"use strict";(self.webpackChunk_mapcomponents_react_maplibre=self.webpackChunk_mapcomponents_react_maplibre||[]).push([[852],{29975:(t,e,n)=>{n.r(e),n.d(e,{ExampleConfig:()=>b,__namedExportsOrder:()=>g,default:()=>y});var r=n(67294),o=n(31072),a=function(t){var e=(0,o.Z)({mapId:void 0}),n=(0,r.useRef)(!1);(0,r.useEffect)((function(){var r;e.map&&!n.current&&(null===(r=e.map)||void 0===r||r.loadImage(t.imagePath,(function(n,r){var o;if(n)throw n;return null===(o=e.map)||void 0===o||o.addImage(t.imageId,r),function(){var n;null===(n=e.map)||void 0===n||n.removeImage(t.imageId)}})))}),[e.map,t])};a.defaultProps={mapId:void 0};const i=a;try{a.displayName="useAddImage",a.__docgenInfo={description:"",displayName:"useAddImage",props:{imageId:{defaultValue:null,description:"",name:"imageId",required:!0,type:{name:"string"}},imagePath:{defaultValue:null,description:"",name:"imagePath",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useAddImage/useAddImage.tsx#useAddImage"]={docgenInfo:a.__docgenInfo,name:"useAddImage",path:"src/hooks/useAddImage/useAddImage.tsx#useAddImage"})}catch(t){}var l=n(64324),s=n(76956),p=n(90574),u=n(67348);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}const y={title:"hooks/useAddImage",component:i,argTypes:{},decorators:l.Z};var b=function(t){var e=(0,o.Z)({mapId:void 0});return i({imageId:"wgLogo",imagePath:u}),(0,r.useEffect)((function(){var t;null===(t=e.map)||void 0===t||t.flyTo({center:[10.251805123900311,51.11826171422632],zoom:5})}),[e.map]),r.createElement(r.Fragment,null,r.createElement(s.Z,f({layout:{"icon-image":"wgLogo","icon-size":{property:"Mitarbeitende",stops:[[3,.02],[26,.15]]},"icon-anchor":"bottom"}},t)))}.bind({});b.parameters={},b.args={geojson:p,type:"symbol"},b.parameters=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({storySource:{source:"(props: MlGeoJsonLayerProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\tuseAddImage({\n\t\timageId: 'wgLogo',\n\t\timagePath: wg_marker,\n\t});\n\tuseEffect(() => {\n\t\tmapHook.map?.flyTo({ center: [10.251805123900311, 51.11826171422632], zoom: 5 });\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<MlGeoJsonLayer\n\t\t\t\tlayout={{\n\t\t\t\t\t'icon-image': 'wgLogo',\n\t\t\t\t\t'icon-size': {\n\t\t\t\t\t\tproperty: 'Mitarbeitende',\n\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t[3, 0.02],\n\t\t\t\t\t\t\t[26, 0.15],\n\t\t\t\t\t\t],\n\t\t\t\t\t} as DataDrivenPropertyValueSpecification<number>,\n\t\t\t\t\t'icon-anchor': 'bottom'\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t</>\n\t);\n}"}},b.parameters);var g=["ExampleConfig"]},44511:(t,e,n)=>{n.r(e),n.d(e,{CSVOrTSV:()=>z,CSVWithOptions:()=>B,CatalogueDemo:()=>W,GPX:()=>V,KML:()=>U,MbTiles:()=>F,OSM:()=>D,TCX:()=>N,Topojson:()=>G,__namedExportsOrder:()=>q,default:()=>_});var r=n(67294),o=n(72642),a=n(85265),i=n(33797),l=n(6912),s=n(99226),p=n(2658),u=n(11970),c=n(84481),m=n(99238),d=n(85393),f=n(78977),y=n(14573),b=n(79825),g=n(31072),h=n(18434),v=n(17781),S=n(13356),w=n(26048),O=n(79485),P=n(82651),j=n(95790),x=n(19399);const I=JSON.parse('[{"item":"mbtiles","description":"In this example, an MBtile file containing the countries of the world is loaded to the map through the useAddProtocol hook. The protocol manager registers the contents of the file as a source. We then add in the layer list a Vector tile layer that uses that source. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/mbtiles/countries.mbtiles\' target=”_blank”> countries.mbtiles </a>"},{"item":"csv","description":"<p>The CSVProtocolHandler enables us to load a layer from a table containing the coordinates of one or more points. The table must have a \'latitude\' and a \'longitude\' column. Column names like \'lat\' or \'long\' are automatically recognized by the hook. Other names, as well as a delimiter other than the comma, can be specified in the options.This encoded options object can be added after a \'?\' sign at the end of the url. <br> The url is expected to have the following Format: <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/csv/restaurants.csv\' target=”_blank”> restaurants.csv </a></p> <center> <h4>[protocol]://[filePath]?[encodedOptions]</h6> </center> Example: <i> csv://csv/restaurants.csv </i><br> Example of an options object: <i> csv://csv/gemany_100_postcodes.csv?latfield=Axe-y&lonfield=Axe-x&delimiter=%3A </i><br>  Where the enconded parameters represents the following options object:<br> {<br>latfield: \'Axe-y\', <br>lonfield: \'Axe-x\', <br>delimiter: \':\'<br>} "},{"item":"osm","description":"<p> The OSMProtocolHandler will transform OSM type files into a geojson object and register it as a source. The handler accepts an encoded options object in the source url. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/osm/palma.osm\' target=”_blank”> palma.osm </a> <br> The url is expected to have the following Format: <br> </p> <center> <h4>[protocol]://[filePath]?[encodedOptions</h6> </center> Example: <i> osm://osm/palma.osm?completeFeature=true&allFeatures=false&renderTagged=false&excludeWay=false&suppressWay=false </i> <br> Where the enconded parameters represents the following options object: <br> { <br> completeFeature: true, <br> allFeatures: false,<br> renderTagged: false, <br> excludeWay: false, <br> suppressWay: false <br> }"},{"item":"gpx","description":"<p> GPX files can be processed with the XMLProtocolHandler. This will transform the files into a geojson object and register it as a source. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/gpx/santiago.gpx\' target=”_blank”> santiago.gpx </a> <br> The url is expected to have the following Format: <br> </p> <center> <h4>[protocol]://[filePath]</h6> </center> Example: <i> xml://gpx/santiago.gpx </i>"},{"item":"kml","description":"<p> KML files can be processed with the XMLProtocolHandler. This will transform the files into a geojson object and register it as a source. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/kml/cape_may.kml\' target=”_blank”> cape_may.kml </a> <br> The url is expected to have the following Format: <br> </p> <center> <h4>[protocol]://[filePath]</h6> </center> Example: <i> xml://kml/cape_may.gpx </i>"},{"item":"tcx","description":"<p> TCX files can be processed with the XMLProtocolHandler. This will transform the files into a geojson object and register it as a source. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/tcx/example.tcx\' target=”_blank”> example.tcx </a> <br> The url is expected to have the following Format: <br> </p> <center> <h4>[protocol]://[filePath]</h6> </center> Example: <i> xml://tcx/example.tcx </i>"},{"item":"topojson","description":"<p> In this example, a topojson file is loaded with help of The TopojsonProtocolHandler. The handler transforms the topojson into a geojson object and keep register of the origin topojson object in the features properties of the new geojson. <br> See source file: <a href=\'https://github.com/mapcomponents/react-map-components-maplibre/blob/main/public/topojson/usa.topojson\' target=”_blank”> usa.topojson </a></p> <br> The url is expected to have the following Format: <br>  </p> <center> <h4>[protocol]://[filePath]</h6> </center>  "}]');var E=n(32714),L=n(6546);function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){A(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function A(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===k(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||M(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const _={title:"hooks/useAddProtocol",component:y.Z,argTypes:{},decorators:b.Z};var Z=function(t){var e,n=(0,g.Z)({mapId:void 0}),o="?"+new URLSearchParams(t.options).toString();return(0,y.Z)({protocol:t.protocol,handler:t.handler}),(0,r.useEffect)((function(){var e,r,a,i;null===(e=n.map)||void 0===e||e.setStyle("https://wms.wheregroup.com/tileserver/style/osm-bright.json"),null!==(r=n.map)&&void 0!==r&&r.getSource(t.sourceId)||"mbtiles"===t.protocol||null===(a=n.map)||void 0===a||a.addSource(t.sourceId,{type:"geojson",data:t.protocol+"://"+t.filePath+o}),t.flyTo&&(null===(i=n.map)||void 0===i||i.flyTo(t.flyTo))}),[n.map]),r.createElement(r.Fragment,null,null!==(e=n.map)&&void 0!==e&&e.getSource(t.sourceId)&&"mbtiles"===t.protocol?r.createElement(E.Z,{mapId:"map_1",url:"mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}",layers:[{id:"countries",type:"fill","source-layer":"countries",layout:{},paint:{"fill-color":"#f9a5f5","fill-opacity":.5}}],insertBeforeLayer:"waterway-name",sourceOptions:{type:"vector",minzoom:0,maxzoom:1}}):r.createElement(L.Z,{layerId:"UseAddProtocolLayer",options:{type:t.type,source:t.sourceId,paint:t.paint},insertBeforeLayer:"waterway-name"}))},F=Z.bind({});F.parameters={},F.args={protocol:"mbtiles",handler:u.GV,sourceID:"fromMBTile-source",filePath:"mbtiles/countries.mbtiles",type:"fill",layers:[{id:"countries",type:"fill","source-layer":"countries",layout:{},paint:{"fill-color":"#f9a5f5","fill-opacity":.5}}],insertBeforeLayer:"waterway-name",sourceOptions:{type:"vector",minzoom:0,maxzoom:1},flyTo:{center:[10.147049,50.871231],zoom:2,speed:2}};var z=Z.bind({});z.parameters={},z.args={protocol:"csv",handler:c.o,sourceId:"fromCSV-Source",filePath:"csv/restaurants.csv",type:"circle",paint:{"circle-color":"#009EE0","circle-stroke-color":"#F0f0f0","circle-stroke-width":2,"circle-radius":18},flyTo:{center:[-74.914516,38.935759],zoom:13,speed:2}};var B=Z.bind({});B.parameters={},B.args={protocol:"csv",handler:c.o,sourceId:"fromCSV-Source",filePath:"csv/gemany_100_postcodes.csv",options:{latfield:"Axe-y",lonfield:"Axe-x",delimiter:":"},type:"circle",paint:{"circle-color":"#009EE0","circle-radius":10},flyTo:{center:[10.147049,50.871231],zoom:6,speed:2}};var D=Z.bind({});D.parameters={},D.args={protocol:"osm",handler:d.Y,sourceId:"fromOSM-Source",filePath:"osm/palma.osm",options:{completeFeature:!0,allFeatures:!1,renderTagged:!1,excludeWay:!1,suppressWay:!1},flyTo:{center:[2.651811,39.571309],zoom:15.5,speed:4}};var V=Z.bind({});V.parameters={},V.args={protocol:"gpx",handler:f.B,sourceId:"fromGPX-Source",filePath:"gpx/santiago.gpx",flyTo:{center:[-5.100251,42.887371],zoom:7,speed:3}};var U=Z.bind({});U.parameters={},U.args={protocol:"kml",handler:f.B,sourceId:"fromKML-Source",filePath:"kml/cape_may.kml",flyTo:{center:[-74.82832,39.093526],zoom:9,speed:2}};var N=Z.bind({});N.parameters={},N.args={protocol:"tcx",handler:f.B,sourceId:"fromTCX-Source",filePath:"tcx/example.tcx",flyTo:{center:[32.711545,34.844962],zoom:9,speed:3}};var G=Z.bind({});G.parameters={},G.args={protocol:"topojson",handler:m.F,sourceId:"fromTopoJson-Source",filePath:"topojson/usa.topojson",paint:{"line-color":["match",["get","fromObject"],"land","#111111","states","#009EE0","counties","#747577","white"],"line-width":["match",["get","fromObject"],"land",3,"states",2,"counties",1,1]},flyTo:{center:[-99.110122,39.827183],zoom:4,speed:2}};var J={mbtiles:F.args,csv:z.args,csvWithOptions:B.args,osm:D.args,gpx:V.args,kml:U.args,tcx:N.args,topojson:G.args},W=function(){var t=(0,g.Z)({mapId:void 0}),e=H((0,r.useState)(!0),2),n=e[0],u=e[1],c=(0,r.useContext)(w.Z),m=H((0,r.useState)("osm"),2),d=m[0],f=m[1],b=H(r.useState(null),2),E=b[0],L=b[1],k=Boolean(E),T=J[d],C="?"+new URLSearchParams(T.options).toString();return(0,y.Z)({protocol:T.protocol,handler:T.handler}),(0,r.useEffect)((function(){c.updateStyle(j.Z),c.setLayers(["mbtiles"===T.protocol?{type:"vt",name:"useAddProtocolLayer",config:{layerId:"useAddProtocolLayer",url:T.protocol+"://"+T.filePath+"/{z}/{x}/{y}",layers:T.layers,insertBeforeLayer:T.insertBeforeLayer,sourceOptions:T.sourceOptions}}:{type:"geojson",name:"useAddProtocolLayer",config:{layerId:"useAddProtocolLayer",type:T.type||"line",options:{source:T.sourceId},paint:T.paint}}])}),[d]),(0,r.useEffect)((function(){var e,n,r;null!==(e=t.map)&&void 0!==e&&e.getSource(T.sourceId)||"mbtiles"===T.protocol||null===(n=t.map)||void 0===n||n.addSource(T.sourceId,{type:"geojson",data:T.protocol+"://"+T.filePath+C}),T.flyTo&&(null===(r=t.map)||void 0===r||r.flyTo(T.flyTo))}),[t.map,d]),r.createElement(r.Fragment,null,r.createElement(h.Z,{buttons:r.createElement(r.Fragment,null,r.createElement(o.Z,{variant:n?"contained":"outlined",onClick:function(){return u(!n)},sx:{marginRight:{xs:"0px",sm:"10px"}}},"Sidebar"),r.createElement(o.Z,{id:"basic-button",variant:"contained","aria-controls":k?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":k?"true":void 0,onClick:function(t){L(t.currentTarget)}},"Example Configs"),r.createElement(a.Z,{id:"basic-menu",anchorEl:E,open:k,onClose:function(){return L(null)},MenuListProps:{"aria-labelledby":"basic-button"}},Object.keys(J).map((function(t){return r.createElement(i.Z,{onClick:function(){return f(t)},key:t},t)}))))}),r.createElement(v.Z,{open:n,setOpen:u,name:T.protocol.toUpperCase()+" demo"},r.createElement(l.Z,{title:"add a new"+T.protocol+" to the map"},r.createElement(S.Z,{onComplete:function(t){return c.setLayers((function(e){return[].concat(function(t){if(Array.isArray(t))return R(t)}(n=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||M(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t]);var n}))},layerTypes:[T.protocol]})),r.createElement(s.Z,{sx:{height:"35%"}},r.createElement(p.Z,{variant:"h6"},"Layers"),r.createElement(O.Z,null,r.createElement(P.Z,{layers:c.layers,setLayers:c.setLayers,insertBeforeLayer:"useAddProtocolLayer",fitBoundsOptions:{padding:{top:50,bottom:50,left:25,right:25}}}))),r.createElement(x.Z,{json:I,section:T.protocol,title:"About this demo: "})))}.bind({});F.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},F.parameters),z.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},z.parameters),B.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},B.parameters),D.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},D.parameters),V.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},V.parameters),U.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},U.parameters),N.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},N.parameters),G.parameters=C({storySource:{source:"(props: TemplateProps) => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\t//  An optional encoded options object can be added after a '?' sign at the end of the url.\n\t//  Handlers that support options are:\n\t// -OSM Handler Options: https://github.com/tibetty/osm2geojson-lite#osm2geojsonosm-opts\n\t// -CSV Handler Options: https://github.com/mapbox/csv2geojson/blob/gh-pages/README.md\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tmapHook.map?.setStyle('https://wms.wheregroup.com/tileserver/style/osm-bright.json');\n\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t{mapHook.map?.getSource(props.sourceId) && props.protocol === 'mbtiles' ?\n\t\t\t<MlVectorTileLayer\n\t\t\t\tmapId={'map_1'}\n\t\t\t\turl={'mbtiles://mbtiles/countries.mbtiles/{z}/{x}/{y}'}\n\t\t\t\tlayers={\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'countries',\n\t\t\t\t\t\t\ttype: 'fill',\n\t\t\t\t\t\t\t'source-layer': 'countries',\n\t\t\t\t\t\t\tlayout: {},\n\t\t\t\t\t\t\tpaint: { 'fill-color': '#f9a5f5', 'fill-opacity': 0.5 },\n\t\t\t\t\t\t},\n\t\t\t\t\t] as unknown as LayerSpecification[]\n\t\t\t\t}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t\tsourceOptions={{\n\t\t\t\t\ttype: 'vector',\n\t\t\t\t\tminzoom: 0,\n\t\t\t\t\tmaxzoom: 1,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t:\n\t\t\t <MlLayer\n\t\t\t\tlayerId={'UseAddProtocolLayer'}\n\t\t\t\toptions={{\n\t\t\t\t\ttype: props.type,\n\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\tpaint: props.paint,\n\t\t\t\t} as useLayerProps['options']}\n\t\t\t\tinsertBeforeLayer={'waterway-name'}\n\t\t\t/>\t\t\t\n\t\t\t}\n\t\t</>\n\t);\n}"}},G.parameters),W.parameters=C({storySource:{source:"() => {\n\tconst mapHook = useMap({ mapId: undefined });\n\n\tconst [openSidebar, setOpenSidebar] = useState(true);\n\tconst layerContext = useContext(LayerContext);\n\tconst [currentDemo, setCurrentDemo] = useState<string>('osm');\n\tconst [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\n\tconst open = Boolean(anchorEl);\n\tconst props: TemplateProps = currentProps[currentDemo];\n\n\tconst optionsURL = '?' + new URLSearchParams(props.options as string).toString();\n\n\tuseAddProtocol({\n\t\tprotocol: props.protocol,\n\t\thandler: props.handler,\n\t});\n\n\tuseEffect(() => {\n\t\tlayerContext.updateStyle(bright as StyleSpecification);\n\n\t\tlayerContext.setLayers([\n\t\t\tprops.protocol === 'mbtiles'\n\t\t\t\t? {\n\t\t\t\t\t\ttype: 'vt',\n\t\t\t\t\t\tname: 'useAddProtocolLayer',\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tlayerId: 'useAddProtocolLayer',\n\t\t\t\t\t\t\turl: props.protocol + '://' + props.filePath + '/{z}/{x}/{y}',\n\t\t\t\t\t\t\tlayers: props.layers,\n\t\t\t\t\t\t\tinsertBeforeLayer: props.insertBeforeLayer,\n\t\t\t\t\t\t\tsourceOptions: props.sourceOptions,\n\t\t\t\t\t\t} as MlVectorTileLayerProps,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\ttype: 'geojson',\n\t\t\t\t\t\tname: 'useAddProtocolLayer',\n\t\t\t\t\t\tconfig: {\n\t\t\t\t\t\t\tlayerId: 'useAddProtocolLayer',\n\t\t\t\t\t\t\ttype: props.type || 'line',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tsource: props.sourceId,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tpaint: props.paint,\n\t\t\t\t\t\t} as MlGeoJsonLayerProps,\n\t\t\t\t  },\n\t\t]);\n\t}, [currentDemo]);\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map?.getSource(props.sourceId) && props.protocol !== 'mbtiles') {\n\t\t\tmapHook.map?.addSource(props.sourceId, {\n\t\t\t\ttype: 'geojson',\n\t\t\t\tdata: props.protocol + '://' + props.filePath + optionsURL,\n\t\t\t});\n\t\t}\n\n\t\tif (props.flyTo) {\n\t\t\tmapHook.map?.flyTo(props.flyTo as FlyToOptions);\n\t\t}\n\t}, [mapHook.map, currentDemo]);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant={openSidebar ? 'contained' : 'outlined'}\n\t\t\t\t\t\t\tonClick={() => setOpenSidebar(!openSidebar)}\n\t\t\t\t\t\t\tsx={{ marginRight: { xs: '0px', sm: '10px' } }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSidebar\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid=\"basic-button\"\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\taria-controls={open ? 'basic-menu' : undefined}\n\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\taria-expanded={open ? 'true' : undefined}\n\t\t\t\t\t\t\tonClick={(event: React.MouseEvent<HTMLButtonElement>) => {\n\t\t\t\t\t\t\t\tsetAnchorEl(event.currentTarget);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tExample Configs\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\tid=\"basic-menu\"\n\t\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\t\topen={open}\n\t\t\t\t\t\t\tonClose={() => setAnchorEl(null)}\n\t\t\t\t\t\t\tMenuListProps={{\n\t\t\t\t\t\t\t\t'aria-labelledby': 'basic-button',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{Object.keys(currentProps).map((el) => (\n\t\t\t\t\t\t\t\t<MenuItem onClick={() => setCurrentDemo(el)} key={el}>{el}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Sidebar\n\t\t\t\topen={openSidebar}\n\t\t\t\tsetOpen={setOpenSidebar}\n\t\t\t\tname={props.protocol.toUpperCase() + ' demo'}\n\t\t\t>\n\t\t\t\t<Tooltip title={'add a new' + props.protocol + ' to the map'}>\n\t\t\t\t\t<AddLayerButton\n\t\t\t\t\t\tonComplete={(config) => layerContext.setLayers((current) => [...current, config])}\n\t\t\t\t\t\tlayerTypes={[props.protocol]}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Box sx={{ height: '35%' }}>\n\t\t\t\t\t<Typography variant=\"h6\">{'Layers'}</Typography>\n\t\t\t\t\t<LayerList>\n\t\t\t\t\t\t<LayerListItemFactory\n\t\t\t\t\t\t\tlayers={layerContext.layers}\n\t\t\t\t\t\t\tsetLayers={layerContext.setLayers}\n\t\t\t\t\t\t\tinsertBeforeLayer=\"useAddProtocolLayer\"\n\t\t\t\t\t\t\tfitBoundsOptions={{ padding: { top: 50, bottom: 50, left: 25, right: 25 } }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</LayerList>\n\t\t\t\t</Box>\n\n\t\t\t\t<DemoDescriptions\n\t\t\t\t\tjson={protocolDescriptions}\n\t\t\t\t\tsection={props.protocol}\n\t\t\t\t\ttitle={'About this demo: '}\n\t\t\t\t/>\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}"}},W.parameters);var q=["MbTiles","CSVOrTSV","CSVWithOptions","OSM","GPX","KML","TCX","Topojson","CatalogueDemo"]},1933:(t,e,n)=>{n.r(e),n.d(e,{ExampleConfig:()=>O,__namedExportsOrder:()=>P,default:()=>v});var r=n(67294),o=n(46846),a=n(18434),i=n(54553),l=n(72642),s=n(33797),p=n(2658),u=n(60195),c=n(76956),m=n(17781);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const v={title:"Hooks/useCameraFollowPath",component:o.Z,argTypes:{},decorators:i.Z};var S={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:[[7.10942788610961,50.708209240168],[7.10966149846967,50.7088867160122],[7.10910082880551,50.7108256986007],[7.10856352037736,50.7126945974813],[7.1083532692533,50.7142598002937],[7.10814301812924,50.7160118929942],[7.10793276700518,50.7169463424345],[7.10776923835314,50.7176004570426],[7.10713848498096,50.718838602551],[7.10699831756492,50.7199599418793],[7.106900786313568,50.72118132611057]]}},w=[{value:15,label:"15"},{value:16,label:"16"},{value:17,label:"17"},{value:18,label:"18"},{value:19,label:"19"},{value:20,label:"20"}],O=function(){var t=g((0,r.useState)({pause:!0,zoom:18,speed:1,pitch:60}),2),e=t[0],n=t[1],i=(0,o.Z)({route:S,pause:e.pause,pitch:e.pitch,zoom:e.zoom,speed:e.speed}),d=g((0,r.useState)(!0),2),f=d[0],b=d[1],h=g((0,r.useState)(!0),2),v=h[0],O=h[1];return r.createElement(r.Fragment,null,r.createElement(a.Z,{buttons:r.createElement(l.Z,{variant:v?"contained":"outlined",onClick:function(){return O(!v)},sx:{marginRight:{xs:"0px",sm:"10px"}}},"Camera Settings")}),r.createElement(m.Z,{open:v,setOpen:O,name:"Camera Settings"},r.createElement(s.Z,{onClick:function(){return b(!f)}},r.createElement(p.Z,null,f?"Hide route":"Show route")),f?r.createElement(c.Z,{geojson:S,type:"line",paint:{"line-width":2,"line-color":"blue"}}):null,r.createElement(s.Z,{disabled:!e.pause,onClick:function(){return n((function(t){return y(y({},t),{},{pause:!1})}))}},r.createElement(p.Z,null,"Start")),r.createElement(s.Z,{disabled:e.pause,onClick:function(){return n((function(t){return y(y({},t),{},{pause:!0})}))}},r.createElement(p.Z,null,"Pause")),r.createElement(s.Z,{onClick:function(){n((function(t){return y(y({},t),{},{pause:!0,pitch:60,zoom:18,speed:1})})),setTimeout((function(){i.reset()}),50)}},r.createElement(p.Z,null,"Reset")),r.createElement(s.Z,null,r.createElement(p.Z,{id:"discrete-slider",style:{marginLeft:"10px",marginRight:"10px"}},r.createElement(p.Z,null,"Zoom:")),r.createElement(u.ZP,{value:e.zoom,onChange:function(t,e){n((function(t){return y(y({},t),{},{zoom:Number(e)})}))},getAriaValueText:function(t){return t.toString()},"aria-labelledby":"discrete-slider",step:1,marks:w,min:15,max:20,sx:{marginTop:"20px",paddingBottom:"20px",marginRight:"10px",maxWidth:"200px",minWidth:"150px"}})),r.createElement(s.Z,null,r.createElement(p.Z,{id:"discrete-slider2",style:{marginLeft:"10px",marginRight:"10px"}},"Speed:"),r.createElement(u.ZP,{value:e.speed,onChange:function(t,e){n((function(t){return y(y({},t),{},{speed:Number(e)})}))},getAriaValueText:function(t){return t.toString()},"aria-labelledby":"discrete-slider2",step:.1,marks:!0,min:.1,max:2,sx:{marginRight:"10px",maxWidth:"200px",minWidth:"150px"}})),r.createElement(s.Z,{onClick:function(){0===e.pitch?n((function(t){return y(y({},t),{},{pitch:60})})):n((function(t){return y(y({},t),{},{pitch:0})}))}},r.createElement(p.Z,null,0===e.pitch?"3D":"2D"))))}.bind({});O.parameters={},O.args={},O.parameters=y({storySource:{source:"() => {\n\tconst [state, setState] = useState({ pause: true, zoom: 18, speed: 1, pitch: 60 });\n\n\tconst CameraFollowPath = useCameraFollowPath({\n\t\troute: routeJson,\n\t\tpause: state.pause,\n\t\tpitch: state.pitch,\n\t\tzoom: state.zoom,\n\t\tspeed: state.speed,\n\t});\n\n\tconst [showRoute, setShowRoute] = useState(true);\n\tconst [openSidebar, setOpenSidebar] = useState(true);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant={openSidebar ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setOpenSidebar(!openSidebar)}\n\t\t\t\t\t\tsx={{ marginRight: { xs: '0px', sm: '10px' } }}\n\t\t\t\t\t>\n\t\t\t\t\t\tCamera Settings\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<Sidebar\n\t\t\t\topen={openSidebar}\n\t\t\t\tsetOpen={setOpenSidebar}\n\t\t\t\tname={'Camera Settings'}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={() => setShowRoute(!showRoute)}>\n\t\t\t\t\t<Typography>{showRoute ? 'Hide route' : 'Show route'}</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t{showRoute ? (\n\t\t\t\t\t<MlGeoJsonLayer\n\t\t\t\t\t\tgeojson={routeJson}\n\t\t\t\t\t\ttype=\"line\"\n\t\t\t\t\t\tpaint={{\n\t\t\t\t\t\t\t'line-width': 2,\n\t\t\t\t\t\t\t'line-color': 'blue',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t<MenuItem\n\t\t\t\t\tdisabled={!state.pause}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: false };\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Start</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tdisabled={state.pause}\n\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: true };\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Pause</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\treturn { ...current, pause: true, pitch: 60, zoom: 18, speed: 1 };\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tCameraFollowPath.reset();\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography>Reset</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem>\n\t\t\t\t\t<Typography id=\"discrete-slider\" style={{ marginLeft: '10px', marginRight: '10px' }}>\n\t\t\t\t\t\t<Typography>Zoom:</Typography>\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tvalue={state.zoom}\n\t\t\t\t\t\tonChange={(ev, value) => {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, zoom: Number(value) };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgetAriaValueText={(value) => value.toString()}\n\t\t\t\t\t\taria-labelledby=\"discrete-slider\"\n\t\t\t\t\t\t//valueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tmarks={marks}\n\t\t\t\t\t\tmin={15}\n\t\t\t\t\t\tmax={20}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tmarginTop: '20px',\n\t\t\t\t\t\t\tpaddingBottom: '20px',\n\t\t\t\t\t\t\tmarginRight: '10px',\n\t\t\t\t\t\t\tmaxWidth: '200px',\n\t\t\t\t\t\t\tminWidth: '150px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem>\n\t\t\t\t\t<Typography id=\"discrete-slider2\" style={{ marginLeft: '10px', marginRight: '10px' }}>\n\t\t\t\t\t\tSpeed:\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Slider\n\t\t\t\t\t\tvalue={state.speed}\n\t\t\t\t\t\tonChange={(ev, value) => {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, speed: Number(value) };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tgetAriaValueText={(value) => value.toString()}\n\t\t\t\t\t\taria-labelledby=\"discrete-slider2\"\n\t\t\t\t\t\t//valueLabelDisplay=\"auto\"\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tmarks\n\t\t\t\t\t\tmin={0.1}\n\t\t\t\t\t\tmax={2}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tmarginRight: '10px',\n\t\t\t\t\t\t\tmaxWidth: '200px',\n\t\t\t\t\t\t\tminWidth: '150px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (state.pitch === 0) {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, pitch: 60 };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetState((current) => {\n\t\t\t\t\t\t\t\treturn { ...current, pitch: 0 };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography>{state.pitch === 0 ? '3D' : '2D'}</Typography>\n\t\t\t\t</MenuItem>\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}"}},O.parameters);var P=["ExampleConfig"]},19850:(t,e,n)=>{n.r(e),n.d(e,{ExampleConfig:()=>u,__namedExportsOrder:()=>c,default:()=>p});var r=n(67294),o=n(74270),a=n(54553);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p={title:"Hooks/useGpx",component:o.Z,argTypes:{},decorators:a.Z};var u=function(){return r.createElement("useGpx",null)}.bind({});u.parameters={},u.args={},u.parameters=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({storySource:{source:"() => <useGpx />"}},u.parameters);var c=["ExampleConfig"]},48494:(t,e,n)=>{n.r(e),n.d(e,{ExampleConfig:()=>m,__namedExportsOrder:()=>d,default:()=>c});var r=n(67294),o=n(31805),a=n(54553),i=n(76956),l=n(52124);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={title:"hooks/useLayerFilter",component:o.Z,argTypes:{},decorators:a.Z};var m=function(t){return(0,o.Z)({layerId:"filter_test",filter:["==","name",t.filter_name]}),r.createElement(i.Z,{layerId:"filter_test",geojson:l})}.bind({});m.parameters={},m.args={filter_name:"Mauspfad"},m.argTypes={filter_name:{options:["Mauspfad","Windeckstraße","Münsterplatz","Postrstraße","In der Sürst","Remiglustraße"],control:{type:"radio"}}},m.parameters=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({storySource:{source:"(args: { filter_name: string }) => {\n\tuseLayerFilter({ layerId: 'filter_test', filter: ['==', 'name', args.filter_name] });\n\treturn <MlGeoJsonLayer layerId=\"filter_test\" geojson={sample as FeatureCollection} />;\n}"}},m.parameters);var d=["ExampleConfig"]},91594:(t,e,n)=>{n.r(e),n.d(e,{ExampleConfig:()=>u,__namedExportsOrder:()=>c,default:()=>p});var r=n(67294),o=n(77062),a=n(54553);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const p={title:"Hooks/useLayerHoverPopup",component:o.Z,argTypes:{},decorators:a.Z};var u=function(){return r.createElement("useLayerHoverPopup",null)}.bind({});u.parameters={},u.args={},u.parameters=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({storySource:{source:"() => <useLayerHoverPopup />"}},u.parameters);var c=["ExampleConfig"]},9491:(t,e,n)=>{n.r(e),n.d(e,{IncludeBaseLayers:()=>d,MatchLayerIdRegexp:()=>y,MatchLayerIdString:()=>f,NonBaseLayersOnly:()=>b,ViewportOnly:()=>m,__namedExportsOrder:()=>g,default:()=>u});var r=n(67294),o=n(90686),a=n(61669);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===i(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u={title:"Hooks/useMapState",component:o.Z,argTypes:{},decorators:a.Z};var c=function(t){var e=(0,o.Z)(s({},t));return(0,r.useEffect)((function(){}),[e.layers]),r.createElement(r.Fragment,null,r.createElement("div",{style:{position:"fixed",zIndex:1e4,display:"flex",flexWrap:"wrap",top:0,left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},r.createElement("pre",null,JSON.stringify(e,null,"\t"))))},m=c.bind({});m.parameters={},m.args={mapId:"map_1",watch:{viewport:!0,layers:!1,sources:!1}};var d=c.bind({});d.parameters={},d.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0}};var f=c.bind({});f.parameters={},f.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:"water"}};var y=c.bind({});y.parameters={},y.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!0,matchLayerIds:/water/}};var b=c.bind({});b.parameters={},b.args={mapId:"map_1",watch:{viewport:!1,layers:!0,sources:!1},filter:{includeBaseLayers:!1}},m.parameters=s({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},m.parameters),d.parameters=s({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},d.parameters),f.parameters=s({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},f.parameters),y.parameters=s({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},y.parameters),b.parameters=s({storySource:{source:'(props) => {\n\tconst mapState = useMapState({ ...props });\n\n\tuseEffect(() => {\n\n\t\n\t}, [mapState.layers])\n\n\treturn (\n\t\t<>\n\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: "fixed",\n\t\t\t\t\tzIndex: 10000,\n\t\t\t\t\tdisplay: "flex",\n\t\t\t\t\tflexWrap: "wrap",\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight:\'100VH\',\n\t\t\t\t\tbackgroundColor: "rgba(80,80,80,.8)",\n\t\t\t\t\tpadding: "50px",\n\t\t\t\t\tfontSize: "20px",\n\t\t\t\t\tcolor: "#51ff09",\n\t\t\t\t\toverflow:\'hidden\',\n\t\t\t\t\tpointerEvents: "none",\n\t\t\t\t}}\n\t\t>\n\n\t\t\t\t<pre>{JSON.stringify(mapState, null, "\t")}</pre>\n\n\n\t\t</div>\n\t\t</>\n\t);\n}'}},b.parameters);var g=["ViewportOnly","IncludeBaseLayers","MatchLayerIdString","MatchLayerIdRegexp","NonBaseLayersOnly"]},33024:(t,e,n)=>{n.r(e),n.d(e,{__namedExportsOrder:()=>j,default:()=>v,removeSourceExample:()=>P,useGeojsonSourceExample:()=>S,useRasterSourceExample:()=>O,useVectorSourceExample:()=>w});var r=n(13116),o=n(67294),a=n(31072),i=n(90686),l=n(86841),s=n(18434),p=n(72642),u=n(67570),c=n(61669);const m=JSON.parse('{"type":"Feature","geometry":{"type":"Point","coordinates":[7.0851268,50.73884],"properties":{"title":"Bonn"}}}');function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==d(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===d(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const v={title:"Hooks/useSource",component:r.Z,argTypes:{},decorators:c.Z};var S=function(t){var e=(0,r.Z)(g({},t)).source;return(0,l.Z)({mapId:t.mapId,layerId:"layer1",options:{source:null!=e&&e.id?e.id:"",type:"circle",paint:{"circle-radius":6,"circle-color":"red"}}}),(0,l.Z)({mapId:t.mapId,layerId:"layer2",options:{source:null!=e&&e.id?e.id:"",type:"circle",paint:{"circle-radius":4,"circle-color":"green"}}}),o.createElement(o.Fragment,null)}.bind({});S.args={mapId:"map_1",sourceId:"geojson-source",source:{type:"geojson",data:m}};var w=function(t){(0,r.Z)(g({},t));var e=(0,a.Z)({mapId:t.mapId});return(0,o.useEffect)((function(){e.map&&(e.map.addLayer({id:"vector-lineLayer",type:"line",source:t.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",layout:{"line-cap":"round","line-join":"round"},paint:{"line-width":2,"line-color":"#ff0000"}},!1,e.componentId),e.map.addLayer({id:"vector-FillLayer",type:"fill",source:t.sourceId,minzoom:0,maxzoom:22,"source-layer":"landuse",paint:{"fill-color":"#32a850","fill-opacity":.4}},!1,e.componentId))}),[e.map]),o.createElement(o.Fragment,null)}.bind({});w.args={mapId:"map_1",sourceId:"vector-source",source:{type:"vector",tiles:["https://wms.wheregroup.com/tileserver/tile/tileserver.php?/europe-0-14/index.json?/europe-0-14/{z}/{x}/{y}.pbf"],tilesize:512,attribution:""}};var O=function(t){(0,r.Z)(g({},t));var e=(0,a.Z)({mapId:t.mapId});return(0,o.useEffect)((function(){e.map&&e.map.addLayer({id:"raster-wms",type:"raster",source:t.sourceId,minzoom:0,maxzoom:22},!1,e.componentId)}),[e.map]),o.createElement(o.Fragment,null)}.bind({});O.args={mapId:"map_1",sourceId:"raster-source",source:{type:"raster",tiles:["https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme?bbox={bbox-epsg-3857}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=EPSG:3857&width=256&height=256&styles=&layers=nw_uraufnahme_rw"],tilesize:256,attribution:""}};var P=function(t){var e=f((0,o.useState)(!0),2),n=e[0],r=e[1],l=f((0,o.useState)([]),2),c=l[0],m=l[1],d=(0,a.Z)({mapId:t.mapId}),y=(0,i.Z)({mapId:t.mapId,watch:{viewport:!1,layers:!0,sources:!0},filter:{includeBaseLayers:!1}});return(0,o.useEffect)((function(){d.map&&d.map.map.on("sourcedata",(function(){var t,e,n,r;null!=d&&null!==(t=d.map)&&void 0!==t&&null!==(e=t.map)&&void 0!==e&&e.style.sourceCaches&&m(Object.keys(null==d||null===(n=d.map)||void 0===n||null===(r=n.map)||void 0===r?void 0:r.style.sourceCaches))}))}),[d.map]),o.createElement(o.Fragment,null,o.createElement(s.Z,{buttons:o.createElement(p.Z,{color:"primary",variant:n?"contained":"outlined",onClick:function(){return r(!n)}},"Ml GeoJsonLayer With Source JSX Active?")}),n&&o.createElement(u.Z,null),o.createElement("div",{style:{position:"fixed",zIndex:1290,display:"flex",flexWrap:"wrap",top:"62px",left:0,right:0,bottom:0,maxHeight:"100VH",backgroundColor:"rgba(80,80,80,.8)",padding:"50px",fontSize:"20px",color:"#51ff09",overflow:"hidden",pointerEvents:"none"}},(null==c?void 0:c.length)>0&&o.createElement("div",null,"Active sources: ",o.createElement("br",null)," ",JSON.stringify(c,null,"  "),o.createElement("br",null)," ",o.createElement("br",null)," Active layers : ",o.createElement("pre",null,JSON.stringify(y,null,"  ")))))}.bind({});P.args={mapId:"map_1"},S.parameters=g({storySource:{source:"(args) => {\n\tconst { source } = useSource({ ...args });\n\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer1',\n\t\toptions: {\n\t\tsource: source?.id ? source.id : '',\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 6,\n\t\t\t\t'circle-color': 'red',\n\t\t\t},\n\t\t},\n\t});\n\tuseLayer({\n\t\tmapId: args.mapId,\n\t\tlayerId: 'layer2',\n\t\toptions: {\n\t\tsource: source?.id ? source.id : '',\n\t\t\ttype: 'circle',\n\t\t\tpaint: {\n\t\t\t\t'circle-radius': 4,\n\t\t\t\t'circle-color': 'green',\n\t\t\t},\n\t\t},\n\t});\n\treturn <></>;\n}"}},S.parameters),w.parameters=g({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-lineLayer',\n\t\t\t\ttype: 'line',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tlayout: {\n\t\t\t\t\t'line-cap': 'round',\n\t\t\t\t\t'line-join': 'round',\n\t\t\t\t},\n\t\t\t\tpaint: { 'line-width': 2, 'line-color': '#ff0000' },\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'vector-FillLayer',\n\t\t\t\ttype: 'fill',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t\t'source-layer': 'landuse',\n\t\t\t\tpaint: {\n\t\t\t\t\t'fill-color': '#32a850',\n\t\t\t\t\t'fill-opacity': 0.4,\n\t\t\t\t},\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},w.parameters),O.parameters=g({storySource:{source:"(args) => {\n\tuseSource({ ...args });\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\tuseEffect(() => {\n\t\tif (!mapHook.map) return;\n\t\tmapHook.map.addLayer(\n\t\t\t{\n\t\t\t\tid: 'raster-wms',\n\t\t\t\ttype: 'raster',\n\t\t\t\tsource: args.sourceId,\n\t\t\t\tminzoom: 0,\n\t\t\t\tmaxzoom: 22,\n\t\t\t},\n\t\t\tfalse,\n\t\t\tmapHook.componentId\n\t\t);\n\t}, [mapHook.map]);\n\treturn <></>;\n}"}},O.parameters),P.parameters=g({storySource:{source:"(args) => {\n\tconst [sourceStatus, setSourceStatus] = useState(true);\n\tconst [activeSources, setActiveSources] = useState([]);\n\tconst mapHook = useMap({\n\t\tmapId: args.mapId,\n\t});\n\n\tconst mapState = useMapState({\n\t\tmapId: args.mapId,\n\t\twatch: {\n\t\t\tviewport: false,\n\t\t\tlayers: true,\n\t\t\tsources: true,\n\t\t},\n\t\tfilter: {\n\t\t\tincludeBaseLayers: false,\n\t\t},\n\t});\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map) {\n\t\t\treturn;\n\t\t}\n\n\t\tmapHook.map.map.on('sourcedata', () => {\n\t\t\tif (mapHook?.map?.map?.style.sourceCaches) {\n\t\t\t\tsetActiveSources(Object.keys(mapHook?.map?.map?.style.sourceCaches));\n\t\t\t}\n\t\t});\n\t}, [mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant={sourceStatus ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setSourceStatus(!sourceStatus)}\n\t\t\t\t\t>\n\t\t\t\t\t\tMl GeoJsonLayer With Source JSX Active?\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{sourceStatus && <MlGeojsonLayerWithSource></MlGeojsonLayerWithSource>}\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tzIndex: 1290,\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\ttop: '62px',\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tright: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\tmaxHeight: '100VH',\n\t\t\t\t\tbackgroundColor: 'rgba(80,80,80,.8)',\n\t\t\t\t\tpadding: '50px',\n\t\t\t\t\tfontSize: '20px',\n\t\t\t\t\tcolor: '#51ff09',\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\tpointerEvents: 'none',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{activeSources?.length > 0 && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\tActive sources: <br></br> {JSON.stringify(activeSources, null, '  ')}\n\t\t\t\t\t\t<br></br> <br></br> Active layers : {}\n\t\t\t\t\t\t<pre>{JSON.stringify(mapState, null, '  ')}</pre>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</>\n\t);\n}"}},P.parameters);var j=["useGeojsonSourceExample","useVectorSourceExample","useRasterSourceExample","removeSourceExample"]},14573:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(24613),o=n.n(r),a=n(67294),i=function(t){return(0,a.useEffect)((function(){if(t.protocol&&"function"==typeof t.handler)return o().addProtocol(t.protocol,t.handler),function(){o().removeProtocol(t.protocol)}}),[]),{}};i.defaultProps={mapId:void 0};const l=i;try{i.displayName="useAddProtocol",i.__docgenInfo={description:"Enables the use of custom protocols (basically custom tile load functions) in the maplibre-gl-js library.",displayName:"useAddProtocol",props:{protocol:{defaultValue:null,description:"the protocol string, for example `mbtiles`\nIn this example the handler function is called for all tile requests that start with the string `mbtiles://`",name:"protocol",required:!0,type:{name:"string"}},handler:{defaultValue:null,description:"Custom load tile function that will be called when using a source that starts with a custom url schema.",name:"handler",required:!0,type:{name:"(requestParameters: RequestParameters, callback: ResponseCallback<any>) => Cancelable"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useAddProtocol/useAddProtocol.tsx#useAddProtocol"]={docgenInfo:i.__docgenInfo,name:"useAddProtocol",path:"src/hooks/useAddProtocol/useAddProtocol.tsx#useAddProtocol"})}catch(t){}},46846:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(67294),o=n(30062),a=n(31072),i=function(t){var e=(0,r.useRef)(!1),n=(0,r.useRef)(t.pause),i=(0,r.useRef)(t.zoom),l=(0,r.useRef)(t.pitch),s=(0,r.useRef)(1),p=(0,r.useRef)(t.speed),u=(0,r.useRef)(),c=t.kmPerStep||.01,m=o.sIr(t.route),d=t.stepDuration||70,f=(0,a.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer});(0,r.useEffect)((function(){n.current=t.pause,n.current||h()}),[t.pause]),(0,r.useEffect)((function(){f.map&&(i.current=t.zoom,void 0!==i.current&&f.map.map.getZoom()!==i.current&&f.map.map.setZoom(i.current))}),[f.map,t.zoom]),(0,r.useEffect)((function(){f.map&&(l.current=t.pitch,void 0!==l.current&&l.current!==f.map.map.getPitch()&&f.map.map.setPitch(l.current))}),[f.map,t.pitch]),(0,r.useEffect)((function(){p.current=t.speed}),[t.speed]);var y=(0,r.useCallback)((function(){f.map&&(f.map.map.scrollZoom.disable(),f.map.map.boxZoom.disable(),f.map.map.dragRotate.disable(),f.map.map.dragPan.disable(),f.map.map.keyboard.disable(),f.map.map.doubleClickZoom.disable(),f.map.map.touchZoomRotate.disable())}),[f.map]),b=(0,r.useCallback)((function(){f.map&&(f.map.map.scrollZoom.enable(),f.map.map.boxZoom.enable(),f.map.map.dragRotate.enable(),f.map.map.dragPan.enable(),f.map.map.keyboard.enable(),f.map.map.doubleClickZoom.enable(),f.map.map.touchZoomRotate.enable())}),[f.map]);function g(){if(f.map&&t.route){var e,n=o.VWR(t.route);n&&n.length>3&&(e=[[n[0],n[1]],[n[2],n[3]]],f.map.map.fitBounds(e,{padding:100}))}}function h(){if(f.map)if(n.current)b();else{y(),void 0!==i.current&&f.map.map.getZoom()!==i.current&&f.map.map.setZoom(i.current);var e=o.$1t(t.route,s.current*c).geometry.coordinates;s.current*c<m?(f.map.map.easeTo({center:e,bearing:o.Y30(o.xmu([f.map.map.getCenter().lng,f.map.map.getCenter().lat]),o.xmu(e)),duration:d,essential:!0}),void 0!==p.current?s.current=s.current+p.current:s.current++,console.log("PAN MOVE"),setTimeout((function(){h()}),100)):(f.map.map.setPitch(0),g(),b(),console.log("ENABLE CONTROLS"),s.current=1)}}return(0,r.useEffect)((function(){f.map&&!e.current&&(e.current=!0,g())}),[f.map]),(0,r.useEffect)((function(){return function(){u.current&&clearTimeout(u.current)}}),[]),{play:h,reset:function(){f.map&&(g(),b(),s.current=1)}}};i.defaultProps={mapId:void 0,zoom:18};const l=i;try{i.displayName="useCameraFollowPath",i.__docgenInfo={description:"Component template",displayName:"useCameraFollowPath",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},pause:{defaultValue:null,description:"",name:"pause",required:!1,type:{name:"boolean | undefined"}},zoom:{defaultValue:{value:"18"},description:"",name:"zoom",required:!1,type:{name:"number | undefined"}},pitch:{defaultValue:null,description:"",name:"pitch",required:!1,type:{name:"number | undefined"}},speed:{defaultValue:null,description:"",name:"speed",required:!1,type:{name:"number | undefined"}},kmPerStep:{defaultValue:null,description:"",name:"kmPerStep",required:!1,type:{name:"number | undefined"}},route:{defaultValue:null,description:"",name:"route",required:!1,type:{name:"any"}},stepDuration:{defaultValue:null,description:"",name:"stepDuration",required:!1,type:{name:"number | undefined"}},timeoutId:{defaultValue:null,description:"",name:"timeoutId",required:!1,type:{name:"number | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useCameraFollowPath/useCameraFollowPath.tsx#useCameraFollowPath"]={docgenInfo:i.__docgenInfo,name:"useCameraFollowPath",path:"src/hooks/useCameraFollowPath/useCameraFollowPath.tsx#useCameraFollowPath"})}catch(t){}},76273:(t,e,n)=>{n.d(e,{Z:()=>y});var r=n(67294),o=n(31072),a=n(24613),i=n(91819);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(t){var e=t.width,n=t.height,r=document.createElement("div");r.className="hidden-map",r.style.width="0px",r.style.height="0px",r.style.overflow="hidden",document.body.appendChild(r);var o=document.createElement("div");o.style.width=e+"px",o.style.height=n+"px",r.appendChild(o);var l=t.map.map.getStyle(),s=function(){var t=l.sources[u];Object.keys(t).forEach((function(e){t[e]||delete t[e]}))};for(var u in l.sources)s();var c=new a.Map({container:o,center:t.map.map.getCenter(),zoom:t.map.map.getZoom(),bearing:0,pitch:0,interactive:!1,preserveDrawingBuffer:!0,fadeDuration:0,attributionControl:!1,style:l}),m=c._cameraForBoxAndBearing([t.bboxUnrotated[0],t.bboxUnrotated[1]],[t.bboxUnrotated[2],t.bboxUnrotated[3]],t.bearing+t.map.map.getBearing());return c._fitInternal(m),new Promise((function(e){console.log("before idle"),c.once("idle",(function(){var n=p(p({},t),{},{renderMap:c,hiddenContainer:r,createPdf:function(e){return function(t){var e=new i.ZP({orientation:"portrait"===(null==t?void 0:t.orientation)?"p":"l",unit:"mm",compress:!0,format:t.format});return Object.defineProperty(window,"devicePixelRatio",{get:function(){return 3.125}}),new Promise((function(n){var r;e.addImage(t.renderMap.getCanvas().toDataURL("image/png"),"png",0,0,e.internal.pageSize.getWidth(),e.internal.pageSize.getHeight(),void 0,"FAST"),t.renderMap.remove(),null===(r=t.hiddenContainer.parentNode)||void 0===r||r.removeChild(t.hiddenContainer);var o=p(p({},t),{},{pdf:e,downloadPdf:function(t){return function(t){return t.pdf.save("Map.pdf"),new Promise((function(e){e(p({},t))}))}(p(p({},o),t))}});n(o)}))}(p(p({},t),{},{renderMap:c,hiddenContainer:r},e))},createPng:function(e){return function(t){return new Promise((function(e){var n=t.renderMap.getCanvas().toDataURL("image/png"),r=p(p({},t),{},{png:n,downloadPng:function(t){return function(t){var e=document.createElement("a");return e.download=null!=t&&t.name?t.name+".png":"map.png",e.href=t.png,document.body.appendChild(e),e.click(),document.body.removeChild(e),new Promise((function(e){e(p({},t))}))}(p(p({},r),t))}});e(r)}))}(p(p({},t),{},{renderMap:c,hiddenContainer:r},e))}});e(n)}))}))};function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===m(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){var e=(0,o.Z)({mapId:t.mapId}),n=(0,r.useMemo)((function(){if(e.map)return function(t){return c(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({map:e.map},t))}}),[e.map]);return{createExport:n}}},52122:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(67294),o=(n(93478),n(1307)),a=n.n(o),i=n(31072),l=n(98396);const s=function(){var t=(0,l.Z)((function(t){return t.breakpoints.down("md")}));return[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":t?7:5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":t?8:6,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":t?7:5,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":t?10:9,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":t?7.5:6.5,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":t?11:10,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":t?8.5:7.5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":t?8.5:6.5,"circle-color":"#404040"}}]};function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var c=function(t){console.log(s());var e=(0,r.useRef)(),n=(0,i.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer}),o=(0,r.useRef)(!1),l=p((0,r.useState)(!1),2),u=l[0],c=l[1],m=p((0,r.useState)(),2),d=m[0],f=m[1],y=s(),b=(0,r.useCallback)((function(e){console.log("MlFeatureEditor mode change to "+e.mode),"function"==typeof t.onFinish&&"simple_select"===e.mode&&t.onFinish()}),[t.onFinish]);return(0,r.useEffect)((function(){var r;n.map&&!o.current&&(o.current=!0,n.map.map.style&&n.map.map.getSource("mapbox-gl-draw-cold")&&e.current&&(null===(r=e.current)||void 0===r||r.remove()),e.current=new(a())({displayControlsDefault:!1,defaultMode:t.mode||"simple_select",modes:Object.assign({},a().modes),userProperties:!0,styles:y}),n.map.addControl(e.current,"top-left",n.componentId),n.map.on("draw.modechange",b,n.componentId),c(!0))}),[n.map,t,o,b]),(0,r.useEffect)((function(){if(n.map&&u){var r=function(){if(e.current){var n,r,o=null===(n=(r=e.current).getAll)||void 0===n?void 0:n.call(r);f(null==o?void 0:o.features),"function"==typeof t.onChange&&t.onChange(null==o?void 0:o.features)}};return n.map.on("mouseup",r),n.map.on("touchend",r),function(){n.map&&(n.map.map.off("mouseup",r),n.map.map.off("touchend",r))}}}),[u,n.map]),(0,r.useEffect)((function(){var n;e.current&&null!==(n=t.geojson)&&void 0!==n&&n.geometry&&e.current.set({type:"FeatureCollection",features:[t.geojson]})}),[t.geojson,u]),(0,r.useEffect)((function(){var n,r,o,a;t.mode&&e.current&&(null===(n=e.current)||void 0===n||null===(r=n.getMode)||void 0===r?void 0:r.call(n))!==t.mode&&(null===(o=e.current)||void 0===o||null===(a=o.changeMode)||void 0===a||a.call(o,t.mode),"simple_select"!==t.mode&&"direct_select"!==t.mode&&e.current.set({type:"FeatureCollection",features:[]}))}),[t.mode,n.map]),{feature:d,drawToolsReady:u,draw:e.current}};const m=c;try{c.displayName="useFeatureEditor",c.__docgenInfo={description:"GeoJson Feature editor that allows to create or manipulate GeoJson data",displayName:"useFeatureEditor",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},geojson:{defaultValue:null,description:"Input GeoJson data at initialization",name:"geojson",required:!1,type:{name:"Feature<Geometry | GeometryCollection, Properties> | undefined"}},onChange:{defaultValue:null,description:"Callback function that is called each time the GeoJson data within has changed within MlFeatureEditor.\nFirst parameter is the new GeoJson feature.",name:"onChange",required:!1,type:{name:"((para: GeoJSONObject[]) => void) | undefined"}},onFinish:{defaultValue:null,description:"Callback function that is called each time the GeoJson data within has been finished within MlFeatureEditor.\nFirst parameter is the new GeoJson feature.",name:"onFinish",required:!1,type:{name:"(() => void) | undefined"}},mode:{defaultValue:null,description:"Feature editor modes:\n- draw_line_string\n- draw_polygon\n- draw_point\n- simple_select\n- direct_select",name:"mode",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"draw_line_string"'},{value:'"draw_polygon"'},{value:'"draw_point"'},{value:'"simple_select"'},{value:'"direct_select"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useFeatureEditor/useFeatureEditor.tsx#useFeatureEditor"]={docgenInfo:c.__docgenInfo,name:"useFeatureEditor",path:"src/hooks/useFeatureEditor/useFeatureEditor.tsx#useFeatureEditor"})}catch(t){}},95349:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(3969),o=n(34155);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}const i=function(){var t,e=/\s*/g,n=/^\s*|\s*$/g,i=/\s+/;function l(t){if(!t||!t.length)return 0;for(var e=0,n=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e)|0;return n}function s(t,e){return t.getElementsByTagName(e)}function p(t,e){return t.getAttribute(e)}function u(t,e){return parseFloat(p(t,e))}function c(t,e){var n=s(t,e);return n.length?n[0]:null}function m(t){for(var e=0,n=[];e<t.length;e++)n[e]=parseFloat(t[e]);return n}function d(t){var e;return t&&(e=t).normalize&&e.normalize(),t&&t.textContent||""}function f(t,e){var n,r,o={};for(r=0;r<e.length;r++)(n=c(t,e[r]))&&(o[e[r]]=d(n));return o}function y(t,e){for(var n in e)t[n]=e[n]}function b(t){return m(t.replace(e,"").split(","))}function g(t){for(var e=t.replace(n,"").split(i),r=[],o=0;o<e.length;o++)r.push(b(e[o]));return r}function h(t){var e,n=[u(t,"lon"),u(t,"lat")],r=c(t,"ele"),o=c(t,"gpxtpx:hr")||c(t,"hr"),a=c(t,"time");return r&&(e=parseFloat(d(r)),isNaN(e)||n.push(e)),{coordinates:n,time:a?d(a):null,heartRate:o?parseFloat(d(o)):null}}if("undefined"!=typeof XMLSerializer)t=new XMLSerializer;else{var v="object"===(void 0===o?"undefined":a(o))&&!o.browser,S="object"===("undefined"==typeof Titanium?"undefined":a(Titanium));if("object"!==("undefined"==typeof exports?"undefined":a(exports))||!v&&!S)throw new Error("Unable to initialize serializer");t=r.B}function w(e){return void 0!==e.xml?e.xml:t.serializeToString(e)}return{kml:function(t){for(var e={type:"FeatureCollection",features:[]},n={},r={},o={},a=["Polygon","LineString","Point","Track","gx:Track"],i=s(t,"Placemark"),u=s(t,"Style"),f=s(t,"StyleMap"),y=0;y<u.length;y++){var h=l(w(u[y])).toString(16);n["#"+p(u[y],"id")]=h,r[h]=u[y]}for(var v=0;v<f.length;v++){n["#"+p(f[v],"id")]=l(w(f[v])).toString(16);for(var S=s(f[v],"Pair"),O={},P=0;P<S.length;P++)O[d(c(S[P],"key"))]=d(c(S[P],"styleUrl"));o["#"+p(f[v],"id")]=O}for(var j=0;j<i.length;j++)e.features=e.features.concat(L(i[j]));function x(t){var e,n;return"#"===(t=t||"").substr(0,1)&&(t=t.substr(1)),6!==t.length&&3!==t.length||(e=t),8===t.length&&(n=parseInt(t.substr(0,2),16)/255,e="#"+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)),[e,isNaN(n)?void 0:n]}function I(t){var e=s(t,"coord"),n=[],r=[];0===e.length&&(e=s(t,"gx:coord"));for(var o=0;o<e.length;o++)n.push(m(d(e[o]).split(" ")));for(var a=s(t,"when"),i=0;i<a.length;i++)r.push(d(a[i]));return{coords:n,times:r}}function E(t){var e,n,r,o,i,l=[],p=[];if(c(t,"MultiGeometry"))return E(c(t,"MultiGeometry"));if(c(t,"MultiTrack"))return E(c(t,"MultiTrack"));if(c(t,"gx:MultiTrack"))return E(c(t,"gx:MultiTrack"));for(r=0;r<a.length;r++)if(n=s(t,a[r]))for(o=0;o<n.length;o++)if(e=n[o],"Point"===a[r])l.push({type:"Point",coordinates:b(d(c(e,"coordinates")))});else if("LineString"===a[r])l.push({type:"LineString",coordinates:g(d(c(e,"coordinates")))});else if("Polygon"===a[r]){var u=s(e,"LinearRing"),m=[];for(i=0;i<u.length;i++)m.push(g(d(c(u[i],"coordinates"))));l.push({type:"Polygon",coordinates:m})}else if("Track"===a[r]||"gx:Track"===a[r]){var f=I(e);l.push({type:"LineString",coordinates:f.coords}),f.times.length&&p.push(f.times)}return{geoms:l,coordTimes:p}}function L(t){var e,a=E(t),i={},l=d(c(t,"name")),u=d(c(t,"address")),m=d(c(t,"styleUrl")),f=d(c(t,"description")),y=c(t,"TimeSpan"),b=c(t,"TimeStamp"),g=c(t,"ExtendedData"),h=c(t,"LineStyle"),v=c(t,"PolyStyle"),S=c(t,"visibility");if(!a.geoms.length)return[];if(l&&(i.name=l),u&&(i.address=u),m){"#"!==m[0]&&(m="#"+m),i.styleUrl=m,n[m]&&(i.styleHash=n[m]),o[m]&&(i.styleMapHash=o[m],i.styleHash=n[o[m].normal]);var w=r[i.styleHash];if(w){h||(h=c(w,"LineStyle")),v||(v=c(w,"PolyStyle"));var O=c(w,"IconStyle");if(O){var P=c(O,"Icon");if(P){var j=d(c(P,"href"));j&&(i.icon=j)}}}}if(f&&(i.description=f),y){var I=d(c(y,"begin")),L=d(c(y,"end"));i.timespan={begin:I,end:L}}if(b&&(i.timestamp=d(c(b,"when"))),h){var k=x(d(c(h,"color"))),T=k[0],C=k[1],A=parseFloat(d(c(h,"width")));T&&(i.stroke=T),isNaN(C)||(i["stroke-opacity"]=C),isNaN(A)||(i["stroke-width"]=A)}if(v){var H=x(d(c(v,"color"))),M=H[0],R=H[1],_=d(c(v,"fill")),Z=d(c(v,"outline"));M&&(i.fill=M),isNaN(R)||(i["fill-opacity"]=R),_&&(i["fill-opacity"]="1"===_?i["fill-opacity"]||1:0),Z&&(i["stroke-opacity"]="1"===Z?i["stroke-opacity"]||1:0)}if(g){var F=s(g,"Data"),z=s(g,"SimpleData");for(e=0;e<F.length;e++)i[F[e].getAttribute("name")]=d(c(F[e],"value"));for(e=0;e<z.length;e++)i[z[e].getAttribute("name")]=d(z[e])}S&&(i.visibility=d(S)),a.coordTimes.length&&(i.coordTimes=1===a.coordTimes.length?a.coordTimes[0]:a.coordTimes);var B={type:"Feature",geometry:1===a.geoms.length?a.geoms[0]:{type:"GeometryCollection",geometries:a.geoms},properties:i};return p(t,"id")&&(B.id=p(t,"id")),[B]}return e},gpx:function(t){var e,n,r,o,a=s(t,"trk"),i=s(t,"rte"),l=s(t,"wpt"),u={type:"FeatureCollection",features:[]};for(e=0;e<a.length;e++)(n=g(a[e]))&&u.features.push(n);for(e=0;e<i.length;e++)(n=v(i[e]))&&u.features.push(n);for(e=0;e<l.length;e++)u.features.push((r=l[e],o=void 0,y(o=w(r),f(r,["sym"])),{type:"Feature",properties:o,geometry:{type:"Point",coordinates:h(r).coordinates}}));function m(t,e){for(var n=0;n<e;n++)t.push(null);return t}function b(t,e){var n=s(t,e),r=[],o=[],a=[],i=n.length;if(i<2)return{};for(var l=0;l<i;l++){var p=h(n[l]);r.push(p.coordinates),p.time&&o.push(p.time),(p.heartRate||a.length)&&(a.length||m(a,l),a.push(p.heartRate||null))}return{line:r,times:o,heartRates:a}}function g(t){for(var e,n=s(t,"trkseg"),r=[],o=[],a=[],i=0;i<n.length;i++)if((e=b(n[i],"trkpt"))&&(e.line&&r.push(e.line),e.times&&e.times.length&&o.push(e.times),a.length||e.heartRates&&e.heartRates.length)){if(!a.length)for(var l=0;l<i;l++)a.push(m([],r[l].length));e.heartRates&&e.heartRates.length?a.push(e.heartRates):a.push(m([],e.line.length||0))}if(0!==r.length){var p=w(t);return y(p,S(c(t,"extensions"))),o.length&&(p.coordTimes=1===r.length?o[0]:o),a.length&&(p.heartRates=1===r.length?a[0]:a),{type:"Feature",properties:p,geometry:{type:1===r.length?"LineString":"MultiLineString",coordinates:1===r.length?r[0]:r}}}}function v(t){var e=b(t,"rtept");if(e.line){var n=w(t);return y(n,S(c(t,"extensions"))),{type:"Feature",properties:n,geometry:{type:"LineString",coordinates:e.line}}}}function S(t){var e={};if(t){var n=c(t,"line");if(n){var r=d(c(n,"color")),o=parseFloat(d(c(n,"opacity"))),a=parseFloat(d(c(n,"width")));r&&(e.stroke=r),isNaN(o)||(e["stroke-opacity"]=o),isNaN(a)||(e["stroke-width"]=96*a/25.4)}}return e}function w(t){var e=f(t,["name","cmt","desc","type","time","keywords"]),n=s(t,"link");n.length&&(e.links=[]);for(var r,o=0;o<n.length;o++)y(r={href:p(n[o],"href")},f(n[o],["text","type"])),e.links.push(r);return e}return u}}}()},74270:(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(67294),o=n(95349);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=function(t){var e=a((0,r.useState)(),2),n=e[0],s=e[1],p=a((0,r.useState)([]),2),u=p[0],c=p[1];return(0,r.useEffect)((function(){t.data&&function(t){try{c([]);var e=(new DOMParser).parseFromString(t,"application/xml"),n=e.querySelector("metadata");null==n||n.childNodes.forEach((function(t){var e,n=t.textContent,r=t.nodeName;if("link"===t.nodeName&&(n=t.getAttribute("href")),null!==(e=n)&&void 0!==e&&e.trim().length){var o={title:r,value:n,id:(new Date).getTime()};c((function(t){return[].concat(function(t){if(Array.isArray(t))return l(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]);var e}))}}));var r=o.Z.gpx(e);s(r)}catch(t){console.log(t)}}(t.data)}),[t.data]),{geojson:n,metadata:u}};s.defaultProps={data:void 0};const p=s;try{s.displayName="useGpx",s.__docgenInfo={description:"useGpx hook converts GPX data to GeoJSON",displayName:"useGpx",props:{data:{defaultValue:{value:"undefined"},description:"a string containing GPX data that is supposed to be parsed and converted to GeoJSON by this hook",name:"data",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useGpx/useGpx.tsx#useGpx"]={docgenInfo:s.__docgenInfo,name:"useGpx",path:"src/hooks/useGpx/useGpx.tsx#useGpx"})}catch(t){}},86841:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(67294),o=n(31072);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","hillshade","background"];function c(t){var e,n,a=(0,o.Z)({mapId:t.mapId,waitForLayer:t.insertBeforeLayer}),i=(0,r.useRef)(""),s=(0,r.useRef)(""),c=(0,r.useRef)(""),m=(e=(0,r.useState)(),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(e,n)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],f=m[1],y=(0,r.useRef)(!1),b=(0,r.useRef)(t.layerId||(t.idPrefix?t.idPrefix:"Layer-")+a.componentId),g=(0,r.useCallback)((function(){var e,n;if(a.map&&(null==a||!a.map.cancelled)&&(a.map.map.getLayer(b.current)&&a.cleanup(),a.map.map.getSource(b.current)&&a.map.map.removeSource(b.current),("string"!=typeof t.options.source||""!==t.options.source&&a.map.map.getSource(t.options.source))&&void 0!==t.options.type)){y.current=!0;try{var r,o,p,u,m,d,h,v;a.map.addLayer(l(l(l(l({},t.options),!t.geojson||null!==(r=t.options)&&void 0!==r&&r.source&&(null===(o=t.options)||void 0===o||null===(p=o.source)||void 0===p||!p.attribution||null!==(u=t.options)&&void 0!==u&&null!==(m=u.source)&&void 0!==m&&m.type)?{}:{source:{type:"geojson",data:t.geojson,attribution:null!==(d=t.options.source)&&void 0!==d&&d.attribution?null===(h=t.options.source)||void 0===h?void 0:h.attribution:""}}),"string"==typeof(null===(v=t.options)||void 0===v?void 0:v.source)?{source:t.options.source}:{}),{},{id:b.current}),t.insertBeforeLayer?t.insertBeforeLayer:t.insertBeforeFirstSymbolLayer?a.map.firstSymbolLayer:void 0,a.componentId)}catch(t){console.log(t)}f((function(){var t;return null===(t=a.map)||void 0===t?void 0:t.map.getLayer(b.current)})),void 0!==t.onHover&&a.map.on("mousemove",b.current,t.onHover,a.componentId),void 0!==t.onClick&&a.map.on("click",b.current,t.onClick,a.componentId),void 0!==t.onLeave&&a.map.on("mouseleave",b.current,t.onLeave,a.componentId),a.map.on("styledata",(function(){var t;!y.current||null!==(t=a.map)&&void 0!==t&&t.map.getLayer(b.current)||(console.log("Recreate Layer"),g())}),a.componentId),s.current=JSON.stringify(null===(e=t.options)||void 0===e?void 0:e.paint),c.current=JSON.stringify(null===(n=t.options)||void 0===n?void 0:n.layout),i.current=t.options.type}}),[t,a.map]);return(0,r.useEffect)((function(){var e,n,r,o;a.map&&(!1===(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&y.current&&null!=a&&null!==(n=a.map)&&void 0!==n&&null!==(r=n.map)&&void 0!==r&&null!==(o=r.getLayer)&&void 0!==o&&o.call(r,b.current)&&(-1===u.indexOf(t.options.type)||-1!==u.indexOf(t.options.type)&&t.options.type===i.current)||g())}),[a.map,t.options,g]),(0,r.useEffect)((function(){var e,n,r,o,i,l;!0!==(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&y.current&&null!==(n=a.map)&&void 0!==n&&null!==(r=n.map)&&void 0!==r&&null!==(o=r.getSource)&&void 0!==o&&o.call(r,b.current)&&(null===(i=a.map.map.getSource(b.current))||void 0===i||null===(l=i.setData)||void 0===l||l.call(i,t.geojson))}),[t.geojson,a.map,t.options.type]),(0,r.useEffect)((function(){var e,n,r,o;if(!0!==(null===(e=a.map)||void 0===e?void 0:e.cancelled)&&a.map&&null!==(n=a.map)&&void 0!==n&&null!==(r=n.map)&&void 0!==r&&null!==(o=r.getLayer)&&void 0!==o&&o.call(r,b.current)&&y.current&&t.options.type===i.current){var l,p=JSON.stringify(t.options.layout);if(t.options.layout&&p!==c.current){var u=JSON.parse(c.current);for(l in t.options.layout){var m;null!==(m=t.options.layout)&&void 0!==m&&m[l]&&t.options.layout[l]!==u[l]&&a.map.map.setLayoutProperty(b.current,l,t.options.layout[l])}c.current=p}var d=JSON.stringify(t.options.paint);if(d!==s.current){var f=JSON.parse(s.current);for(l in t.options.paint){var g;null!==(g=t.options.paint)&&void 0!==g&&g[l]&&t.options.paint[l]!==f[l]&&a.map.map.setPaintProperty(b.current,l,t.options.paint[l])}s.current=d}}}),[t.options,a.map]),(0,r.useEffect)((function(){t.insertBeforeLayer&&a.map&&a.map.getLayer(t.insertBeforeLayer)&&a.map.getLayer(b.current)&&a.map.moveLayer(b.current,t.insertBeforeLayer)}),[a.map,t.insertBeforeLayer]),(0,r.useEffect)((function(){return function(){y.current=!1,a.cleanup()}}),[]),{map:a.map,layer:d,layerId:b.current,componentId:a.componentId,mapHook:a}}c.defaultProps={};const m=c},23166:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(67294),o=n(26048);const a=function(){return(0,r.useContext)(o.Z)}},31805:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(67294),o=n(31072);const a=function(t){var e=(0,o.Z)({mapId:t.mapId});return(0,r.useEffect)((function(){if(e.map&&t.layerId&&t.filter&&e.map.map.getLayer(t.layerId)){var n=t.layerId;return e.map.map.setFilter(n,t.filter),function(){e.map&&e.map.map.setFilter(n,null)}}}),[t,e.map]),{}}},77062:(t,e,n)=>{n.d(e,{Z:()=>l});var r=n(67294),o=n(31072),a=n(24613),i=function(t){var e=(0,o.Z)({mapId:t.mapId,waitForLayer:t.layerId}),n=(0,r.useRef)(new a.Popup({closeButton:!1,closeOnClick:!0}));return(0,r.useEffect)((function(){e.map&&t.layerId&&e.map.on("mouseenter",t.layerId,(function(r){var o,a;if(e.map){var i=null==r||null===(o=r.features)||void 0===o?void 0:o[0].geometry.coordinates.slice(),l="";if(null!=r&&null!==(a=r.features)&&void 0!==a&&a[0]&&"function"==typeof t.getPopupContent&&(l=t.getPopupContent(r.features[0])),null!=i&&i[0]){for(;Math.abs(r.lngLat.lng-i[0])>180;)i[0]+=r.lngLat.lng>i[0]?360:-360;n.current.setLngLat(i).setHTML(l).addTo(e.map.map)}}}),e.componentId)}),[e.map]),r.createElement(r.Fragment,null)};i.defaultProps={mapId:void 0};const l=i;try{i.displayName="useLayerHoverPopup",i.__docgenInfo={description:"useLayerHoverPopup hook registers a mouseenter event to display feature properties in a MapLibre popup if a feature on the configured layer is hovered",displayName:"useLayerHoverPopup",props:{mapId:{defaultValue:{value:"undefined"},description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of an existing layer in the mapLibre instance this event will be registered to",name:"layerId",required:!1,type:{name:"string | undefined"}},getPopupContent:{defaultValue:null,description:"",name:"getPopupContent",required:!0,type:{name:"(feature: GeoJSONFeature) => string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/hooks/useLayerHoverPopup/useLayerHoverPopup.tsx#useLayerHoverPopup"]={docgenInfo:i.__docgenInfo,name:"useLayerHoverPopup",path:"src/hooks/useLayerHoverPopup/useLayerHoverPopup.tsx#useLayerHoverPopup"})}catch(t){}},31072:(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(67294),o=n(28721),a=n(74736),i=n(90686);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const p=function(t){var e=(0,r.useContext)(a.Z),n=l((0,r.useState)(),2),s=n[0],p=n[1],u=(0,i.Z)({mapId:null==t?void 0:t.mapId,watch:{viewport:!1,layers:!(null==t||!t.waitForLayer),sources:!1},filter:{includeBaseLayers:!0}}),c=(0,r.useRef)(),m=(0,r.useRef)((0,o.Z)()),d=l((0,r.useState)(!1),2),f=d[0],y=d[1],b=function(){c.current&&c.current.cleanup(m.current)};return(0,r.useEffect)((function(){return function(){b(),y(!1),c.current=void 0}}),[]),(0,r.useEffect)((function(){if(c.current&&!0===c.current.cancelled&&(c.current=void 0,p(void 0),y(!1)),!c.current&&e.mapExists(null==t?void 0:t.mapId)){if(null!=t&&t.waitForLayer){var n,r=!1;if(null==u||null===(n=u.layers)||void 0===n||n.forEach((function(e){e.id===(null==t?void 0:t.waitForLayer)&&(r=!0)})),!r)return}c.current=e.getMap(null==t?void 0:t.mapId),p(c.current),y(!0)}}),[e.mapIds,u.layers,e,t]),{map:s,mapIsReady:f,componentId:m.current,layers:u.layers,cleanup:b}}},90686:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(67294),o=n(45697),a=n.n(o),i=n(28721),l=n(74736);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){var e=(0,r.useContext)(l.Z),n=(0,r.useRef)(!1),o=(0,r.useRef)(),a=s((0,r.useState)(),2),p=a[0],u=a[1],c=(0,r.useRef)(void 0),m=s((0,r.useState)([]),2),d=m[0],f=m[1],y=(0,r.useRef)(),b=(0,r.useRef)((0,i.Z)()),g=(0,r.useCallback)((function(e){var n,r;return!(!(null!=t&&null!==(n=t.filter)&&void 0!==n&&n.includeBaseLayers||null==e)&&e.baseLayer)&&(void 0===(null===(r=t.filter)||void 0===r?void 0:r.matchLayerIds)||(t.filter.matchLayerIds instanceof RegExp?t.filter.matchLayerIds.test(e.id):e.id.includes(t.filter.matchLayerIds)))}),[t.filter]),h=(0,r.useCallback)((function(){if(o.current){var t=o.current.wrapper.layerState.filter(g),e=JSON.stringify(t);y.current!==e&&(y.current=e,f(t))}}),[g]);return(0,r.useEffect)((function(){var t=b.current;return function(){o.current&&(o.current.cleanup(t),o.current=void 0),n.current=!1}}),[]),(0,r.useEffect)((function(){var r,a,i,l;e.mapExists(t.mapId)&&!n.current&&(n.current=!0,o.current=e.getMap(t.mapId),o.current?(null!=t&&null!==(r=t.watch)&&void 0!==r&&r.viewport&&(u(o.current.wrapper.viewportState),o.current.wrapper.on("viewportchange",(function(){var t,e;c.current!==(null===(t=o.current)||void 0===t?void 0:t.wrapper.viewportStateString)&&u(null===(e=o.current)||void 0===e?void 0:e.wrapper.viewportState)}),b.current)),null!=t&&null!==(a=t.watch)&&void 0!==a&&a.layers&&(h(),o.current.wrapper.on("layerchange",h,{includeBaseLayers:null==t||null===(i=t.filter)||void 0===i?void 0:i.includeBaseLayers,matchLayerIds:null==t||null===(l=t.filter)||void 0===l?void 0:l.matchLayerIds},b.current))):n.current=!1)}),[e.mapIds,e,t.mapId,h,t]),{layers:d,viewport:p}}u.defaultProps={mapId:void 0,watch:{layers:!0,sources:!1,viewport:!1},filter:{includeBaseLayers:!1}},u.propTypes={mapId:a().string,watch:a().shape({layers:a().bool,sources:a().bool,viewport:a().bool}),filter:a().shape({includeBaseLayers:a().bool,matchLayerIds:a().oneOfType([a().string,a().instanceOf(RegExp)]),matchSourceIds:a().oneOfType([a().string,a().instanceOf(RegExp)])})};const c=u},13116:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(67294),o=n(31072);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}const u=function(t){var e,n=(0,o.Z)({mapId:t.mapId}),a=(0,r.useRef)(!1),p=s((0,r.useState)(),2),u=p[0],c=p[1],m=(0,r.useRef)(t.sourceId||(t.idPrefix?t.idPrefix:"Source-")+n.componentId),d=(0,r.useCallback)((function(){var e;n.map&&(a.current=!0,n.map.map.getSource(m.current)&&n.cleanup(),null===(e=n.map)||void 0===e||e.addSource(m.current,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t.source),n.componentId),c(n.map.map.getSource(m.current)))}),[t,n.map]);return(0,r.useEffect)((function(){n.map&&!a.current&&d()}),[n.map,t,d]),(0,r.useEffect)((function(){var e,r,o,i;a.current&&null!==(e=n.map)&&void 0!==e&&null!==(r=e.map)&&void 0!==r&&r.getSource(t.sourceId)&&(null===(o=n.map.map.getSource(t.sourceId))||void 0===o||null===(i=o.setData)||void 0===i||i.call(o,t.source.data))}),[null===(e=t.source)||void 0===e?void 0:e.data]),(0,r.useEffect)((function(){return function(){var t,e,r;if(a.current=!1,n.map&&null!==(t=n.map)&&void 0!==t&&null!==(e=t.map)&&void 0!==e&&null!==(r=e.style)&&void 0!==r&&r._layers){for(var o=0,i=Object.entries(n.map.map.style._layers);o<i.length;o++){var l=s(i[o],2),p=l[0];l[1].source===m.current&&n.map.map.removeLayer(p)}n.map.map.removeSource(m.current)}}}),[n.map]),{map:n.map,source:u,componentId:n.componentId,mapHook:n}}},25969:(t,e,n)=>{n.d(e,{Z:()=>m});var r=n(67294),o=n(59542);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,l=[],s=!0,p=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);s=!0);}catch(t){p=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e=p((0,r.useState)(),2),n=e[0],a=e[1],i=p((0,r.useState)(t.url),2),s=i[0],u=i[1],c=p((0,r.useState)(""),2),m=c[0],d=c[1],f=p((0,r.useState)(),2),y=f[0],b=f[1],g=p((0,r.useState)(),2),h=g[0],v=g[1],S=function(){a(void 0),b(void 0),d("")};return(0,r.useEffect)((function(){var e;if(S(),v(void 0),s){var n,r=s;-1!==s.indexOf("?")&&(r=(n=s.split("?"))[0]);var a=new URLSearchParams(null===(e=n)||void 0===e?void 0:e[1]),i=l(l({},Object.fromEntries(a)),t.urlParameters),p=new URLSearchParams(i),u=decodeURIComponent(p.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":");fetch(r+"?"+u).then((function(t){if(t.ok)return t.text();throw Error(t.statusText+" ("+t.status+" - "+t.type+")")})).then((function(t){b(new o.Z(t,window.DOMParser).toJSON())})).catch((function(t){S(),console.log(t),v(t.message)}))}}),[s,t.urlParameters]),(0,r.useEffect)((function(){var t,e,n,r,o,i,l,s,p,u,c,m,f,b;null!=y&&y.Service&&(d(null===(t=y.Capability)||void 0===t||null===(e=t.Request)||void 0===e||null===(n=e.GetMap)||void 0===n||null===(r=n.DCPType)||void 0===r||null===(o=r[0])||void 0===o||null===(i=o.HTTP)||void 0===i||null===(l=i.Get)||void 0===l?void 0:l.OnlineResource),a(null===(s=y.Capability)||void 0===s||null===(p=s.Request)||void 0===p||null===(u=p.GetFeatureInfo)||void 0===u||null===(c=u.DCPType)||void 0===c||null===(m=c[0])||void 0===m||null===(f=m.HTTP)||void 0===f||null===(b=f.Get)||void 0===b?void 0:b.OnlineResource))}),[y]),{capabilities:y,getFeatureInfoUrl:n,wmsUrl:m,error:h,setUrl:u}}c.defaultProps={url:"",urlParameters:{SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetCapabilities"}};const m=c},49004:(t,e,n)=>{n.d(e,{vm:()=>o.Z,tw:()=>r.t,X$:()=>r.Z,bQ:()=>a.Z}),n(7491),n(83730),n(74582),n(11624),n(29093),n(28883),n(70769),n(50228),n(74297),n(93482),n(61488),n(30426),n(76956),n(18399),n(89798),n(74168),n(16804),n(6546),n(58725),n(50850),n(9277),n(87779),n(72741),n(78245),n(71332),n(26109),n(56357),n(46871),n(21624),n(32714),n(16439),n(18128),n(74767),n(48703),n(66639),n(19573),n(77393),n(51834),n(46846),n(76273),n(74270),n(31805),n(77062),n(86841),n(67294),n(90686),n(31072);Object.keys({mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"}),n(13116),n(25969),n(81919),n(23166),n(52122),n(14573);var r=n(74736),o=(n(15668),n(74054),n(26048),n(26778),n(79485),n(44598),n(94939),n(83658),n(68798),n(82651)),a=(n(13356),n(22790),n(77602),n(60136),n(4305),n(67704),n(18434),n(17781),n(39307),n(22305),n(28567),n(53747),n(52404),n(22281),n(53426),n(54852));n(59523),n(93826)}}]);