"use strict";(self.webpackChunk_mapcomponents_react_maplibre=self.webpackChunk_mapcomponents_react_maplibre||[]).push([[605],{87656:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(516),o=r.n(n),a=r(93694),i=r.n(a)()(o());i.push([e.id,"#root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.fullscreen_map .mapContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n","",{version:3,sources:["webpack://./src/decorators/style.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;EAClB,iBAAiB;EACjB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;AACV;AACA;EACE,iBAAiB;EACjB,aAAa;EACb,oBAAoB;AACtB;AACA;EACE,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,OAAO;AACT;AACA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;EACP,SAAS;EACT,YAAY;AACd",sourcesContent:["#root {\n  background-color: #000;\n  position: absolute;\n  min-height: 400px;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.docs-story {\n  min-height: 400px;\n  display: flex;\n  align-items: stretch;\n}\n.docs-story > div:first-child {\n  width: 100%;\n}\n\n.App {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.fullscreen_map .mapContainer {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 100;\n}\n\n"],sourceRoot:""}]);const l=i},55983:(e,t,r)=>{var n=r(16785),o=r.n(n),a=r(87656);o()(a.Z,{insert:"head",singleton:!1}),a.Z.locals},38316:(e,t,r)=>{r.r(t),r.d(t,{Linestring:()=>y,__namedExportsOrder:()=>b,default:()=>d});var n=r(67294),o=r(87779),a=r(54553),i=r(31072);const l=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.1074676513671875,50.74340774029213],[7.0992279052734375,50.756441089372665],[7.079315185546874,50.764693667025014],[7.045669555664062,50.77945780529241],[7.030563354492187,50.79161300845443],[7.0291900634765625,50.80940599750376],[7.0236968994140625,50.820685846099174],[7.0085906982421875,50.825891011253546],[6.9879913330078125,50.826758482363275],[6.97906494140625,50.835432306955276],[6.9824981689453125,50.84583876895451],[6.9962310791015625,50.85147463352982],[7.012023925781249,50.85710981721644],[7.021636962890625,50.86664473085768],[7.0367431640625,50.872278081520406],[7.0477294921875,50.877044231111014],[7.052536010742187,50.88397594225127]]}}'),u=JSON.parse('{"type":"Feature","properties":{},"geometry":{"type":"LineString","coordinates":[[7.0635223388671875,50.71385204707258],[7.06146240234375,50.709721458354075],[7.063865661621094,50.70298129536074],[7.064552307128906,50.69906720767511],[7.059059143066406,50.69428287906098],[7.05596923828125,50.68797551838366],[7.0580291748046875,50.680797145321655],[7.062835693359375,50.67514068397085],[7.060432434082031,50.6686131506577],[7.051849365234375,50.659255436656736],[7.044639587402344,50.6512019574539],[7.0484161376953125,50.64271166020676],[7.0566558837890625,50.63748609931014]]}}');function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const d={title:"MapComponents/MlTransitionGeoJsonLayer",component:o.Z,argTypes:{url:{},layer:{}},decorators:a.Z};var y=function(e){var t,r,a=(0,i.Z)({mapId:"map_1"}),c=(t=(0,n.useState)(l),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],p=c[1],d=(0,n.useRef)(!1);return(0,n.useEffect)((function(){a.map&&!d.current&&(console.log("Hello"),d.current=!0,a.map.setCenter({lng:7.137609868988648,lat:50.74746799549129}),a.map.setZoom(9.5),setTimeout((function(){p(u)}),4e3))}),[s,a.map]),n.createElement(n.Fragment,null,n.createElement(o.Z,m({type:"line",geojson:s,transitionTime:2e3},e)))}.bind({});y.parameters={},y.args={paint:{"line-color":"red","line-width":4}},y.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\tconst mapHook = useMap({mapId: 'map_1'});\n\tconst [geojson, setGeojson] = useState(sample_geojson_1);\n\tconst initializedRef = useRef(false);\n\n\tuseEffect(() => {\n\t\tif (!mapHook.map || initializedRef.current) return;\n\n\t\tconsole.log('Hello')\n\t\tinitializedRef.current = true;\n\t\tmapHook.map.setCenter({ lng: 7.137609868988648, lat: 50.74746799549129 });\n\t\tmapHook.map.setZoom(9.5);\n\n\t\tsetTimeout(() => {\n\t\t\tsetGeojson(sample_geojson_2);\n\t\t}, 4000);\n\t}, [geojson, mapHook.map]);\n\n\treturn (\n\t\t<>\n\t\t\t<MlTransitionGeoJsonLayer type=\"line\" geojson={geojson} transitionTime={2000} {...props} />\n\t\t</>\n\t);\n}"}},y.parameters);var b=["Linestring"]},21351:(e,t,r)=>{r.r(t),r.d(t,{ExampleConfig:()=>g,__namedExportsOrder:()=>h,default:()=>v});var n=r(67294),o=r(45697),a=r.n(o),i=r(90686);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=(0,i.Z)({mapId:e.mapId,watch:c({layers:!0,sources:!1,viewport:!1},e.watch),filter:c({},e.filter)}),r=(0,n.useRef)(0);return r.current=r.current+1,n.createElement(n.Fragment,null,n.createElement("div",{style:{overflow:"hidden",width:"100px",height:"20px"}},"Render: ",r.current,n.createElement("br",null),n.createElement("pre",null,JSON.stringify(t,null," "))))};p.defaultProps={mapId:void 0},p.propTypes={mapId:a().string},p.__docgenInfo={description:"Renders a collapsable top-drawer containing live map debug information\n\n@param {object} props\n@param {string} props.mapId Id of the target MapLibre instance in mapContext\n\n@component",methods:[],displayName:"MlUseMapDebugger",props:{mapId:{defaultValue:{value:"undefined",computed:!0},description:"Id of the target MapLibre instance in mapContext",type:{name:"string"},required:!1}}};const m=p;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlUseMapDebugger/MlUseMapDebugger.js"]={name:"MlUseMapDebugger",docgenInfo:p.__docgenInfo,path:"src/components/MlUseMapDebugger/MlUseMapDebugger.js"});var f=r(54553);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v={title:"MapComponents/MlUseMapDebugger",component:m,argTypes:{url:{},layer:{}},decorators:f.Z};var g=function(e){return n.createElement(n.Fragment,null,n.createElement(m,e))}.bind({});g.parameters={},g.args={mapId:"map_1"},g.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\treturn (\n\t\t<>\n\t\t\t<MlUseMapDebugger {...props} />\n\t\t</>\n\t);\n}"}},g.parameters);var h=["ExampleConfig"]},36522:(e,t,r)=>{r.r(t),r.d(t,{ExampleConfig:()=>f,__namedExportsOrder:()=>d,default:()=>m});var n=r(67294),o=r(32714),a=r(18434),i=r(54553),l=r(72642);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m={title:"MapComponents/MlVectorTileLayer",component:o.Z,argTypes:{url:{},layer:{}},decorators:i.Z};var f=function(e){var t,r,i=(t=(0,n.useState)(!0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=i[0],c=i[1];return n.createElement(n.Fragment,null,n.createElement(a.Z,{unmovableButtons:n.createElement(l.Z,{color:"primary",variant:u?"contained":"outlined",onClick:function(){return c(!u)}},"Vector Tile Layer")}),u?n.createElement(o.Z,e):"")}.bind({});f.parameters={},f.args={mapId:"map_1",url:"https://wms.wheregroup.com/tileserver/tile/tileserver.php?/europe-0-14/index.json?/europe-0-14/{z}/{x}/{y}.pbf",layers:[{id:"water",type:"fill","source-layer":"water",layout:{},paint:{"fill-color":"#0905f5","fill-opacity":.5}},{id:"buildings",type:"fill","source-layer":"building",layout:{},paint:{"fill-color":"#717875"}}],sourceOptions:{minzoom:0,maxzoom:20}},f.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(args) => {\n\tconst [showLayer, setShowLayer] = useState(true);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tunmovableButtons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant={showLayer ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setShowLayer(!showLayer)}\n\t\t\t\t\t>\n\t\t\t\t\t\tVector Tile Layer\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t{showLayer ? <MlVectorTileLayer {...args} /> : ''}\n\t\t</>\n\t);\n}"}},f.parameters);var d=["ExampleConfig"]},87581:(e,t,r)=>{r.r(t),r.d(t,{ExampleConfig:()=>s,__namedExportsOrder:()=>p,default:()=>c});var n=r(67294),o=r(16439),a=r(54553);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c={title:"MapComponents/MlWmsFeatureInfoPopup",component:o.Z,argTypes:{url:{},layer:{}},decorators:a.Z};var s=function(){return n.createElement(o.Z,null)}.bind({});s.parameters={},s.args={},s.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"() => <MlWmsFeatureInfoPopup />"}},s.parameters);var p=["ExampleConfig"]},81938:(e,t,r)=>{r.r(t),r.d(t,{ExampleConfig:()=>d,__namedExportsOrder:()=>y,default:()=>f});var n=r(67294),o=r(18128),a=r(18434),i=r(72642),l=r(54553);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(16151);const f={title:"MapComponents/MlWmsLayer",component:o.Z,argTypes:{url:{},layer:{}},decorators:l.Z};var d=function(e){var t,r,l=(t=(0,n.useState)(!0),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],c=l[1];return n.createElement(n.Fragment,null,n.createElement(a.Z,{unmovableButtons:n.createElement(i.Z,{color:"primary",variant:u?"contained":"outlined",onClick:function(){return c(!u)}},"WMS")}),n.createElement(o.Z,p({visible:u},e)))}.bind({});d.parameters={},d.args={url:"https://www.wms.nrw.de/geobasis/wms_nw_uraufnahme",urlParameters:{layers:"nw_uraufnahme_rw"}},d.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props) => {\n\tconst [showLayer, setShowLayer] = useState(true);\n\n\treturn (\n\t\t<>\n\t\t\t<TopToolbar\n\t\t\t\tunmovableButtons={\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant={showLayer ? 'contained' : 'outlined'}\n\t\t\t\t\t\tonClick={() => setShowLayer(!showLayer)}\n\t\t\t\t\t>\n\t\t\t\t\t\tWMS\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<MlWmsLayer visible={showLayer} {...props} />\n\t\t</>\n\t);\n}"}},d.parameters);var y=["ExampleConfig"]},68274:(e,t,r)=>{r.r(t),r.d(t,{ExampleConfig:()=>_,__namedExportsOrder:()=>R,default:()=>C});var n=r(67294),o=r(74767),a=r(72642),i=r(45116),l=r(54553),u=r(17781),c=r(18434),s=r(16936),p=[{duration:2500,props:{bubbleTop:"200px",bubbleLeft:"-180px",textMarginTop:"150px",textMarginLeft:"200px",iconTransform:"rotate(90deg)",iconMarginTop:"-210px",iconMarginLeft:"200px",zIndex:1210},content:n.createElement(n.Fragment,null,"Introduce an ",n.createElement("br",null),"WMS Service ",n.createElement("br",null)," URL here")},{duration:3e3,props:{bubbleLeft:"-40px",bubbleTop:"-150px",textMarginTop:"240px",textMarginLeft:"75px",iconTransform:"rotate(90deg)",iconMarginTop:"-125px",iconMarginLeft:"280px",zIndex:1210},content:n.createElement(n.Fragment,null,"In demo mode we ",n.createElement("br",null)," provide you some ",n.createElement("br",null)," WMS links ",n.createElement("br",null)," to copy and use.")}];function m(e){return n.createElement(n.Fragment,null,n.createElement(s.Z,{steps:p,open:e.open}))}try{m.displayName="MlWmsLoaderInstructions",m.__docgenInfo={description:"",displayName:"MlWmsLoaderInstructions",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLoader/utils/MlWmsLoaderInstructions.tsx#MlWmsLoaderInstructions"]={docgenInfo:m.__docgenInfo,name:"MlWmsLoaderInstructions",path:"src/components/MlWmsLoader/utils/MlWmsLoaderInstructions.tsx#MlWmsLoaderInstructions"})}catch(e){}var f=r(98396),d=r(15725),y=r(2658),b=r(67720),v=r(16628),g=r(99226),h=r(64680),S=r(41899),O=r(50594);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j={position:"absolute",zIndex:500,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",height:"600px",boxShadow:20,alignItems:"center",padding:0,opacity:1,transition:"opacity 1s"},w={position:"absolute",top:"10%",left:"20%",width:"60%",height:"70%",bgcolor:"background.paper",boxShadow:24,zIndex:200,overflow:"scroll"},M=[{id:"1",title:"HistOSM",description:"Historic objects stored in the OpenStreetMap database",link:"https://maps.heigit.org/histosm/wms"},{id:"2",title:"MagOSM",description:"MagOSM is a project of the company Magellium which offers services related to thematic data from OpenStreetMap. Currently these services are provided at the scale of metropolitan France. The data of the different services are updated daily.",link:"https://magosm.magellium.com/geoserver/wms"},{id:"3",title:"NRW_vdop",description:"The WMS NW vDOP Geobasis North Rhine-Westphalia provides intermediate results from the production process of the digital orthophotos (DOP).",link:"https://www.wms.nrw.de/geobasis/wms_nw_vdop"}];function A(e){var t,r,o=(0,f.Z)("(max-width:900px)"),l=(t=(0,n.useState)(),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],c=l[1],s=function(){return n.createElement(n.Fragment,null,M.map((function(e){return n.createElement(d.ZP,{item:!0,xs:12,sx:{marginTop:5},key:e.id},n.createElement(y.Z,{variant:"h6"},e.title),n.createElement(y.Z,{variant:"body2"},e.description),n.createElement(i.Z,{value:e.link,size:"small"}),n.createElement(a.Z,{variant:"contained",sx:{marginTop:.2},onClick:function(){var t;c(e.link),null===(t=document.getElementById("wms_text_field"))||void 0===t||t.focus()}},n.createElement(S.Z,null)),n.createElement(b.Z,{sx:{marginTop:"10px"}}))})))};return(0,n.useEffect)((function(){u&&e.load(u)}),[u]),n.createElement(n.Fragment,null,e.open&&n.createElement(v.Z,{in:e.open,appear:!1},n.createElement(g.Z,{sx:o?w:j},n.createElement(h.Z,{sx:{padding:"20px"}},n.createElement(d.ZP,{container:!0},n.createElement(d.ZP,{item:!0,xs:10},n.createElement(y.Z,{id:"modal-modal-title",variant:"h6"},"WMS Links")),n.createElement(d.ZP,{item:!0,xs:2},n.createElement(a.Z,{onClick:e.close},n.createElement(O.Z,{sx:{color:"text.primary"}})))),n.createElement(b.Z,null),n.createElement(d.ZP,{container:!0},n.createElement(s,null))))))}try{A.displayName="WMSLinks",A.__docgenInfo={description:"",displayName:"WMSLinks",props:{load:{defaultValue:null,description:"",name:"load",required:!0,type:{name:"(str: string) => void"}},open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},close:{defaultValue:null,description:"",name:"close",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLoader/utils/WMSLinks.tsx#WMSLinks"]={docgenInfo:A.__docgenInfo,name:"WMSLinks",path:"src/components/MlWmsLoader/utils/WMSLinks.tsx#WMSLinks"})}catch(e){}function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===L(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const C={title:"MapComponents/MlWmsLoader",component:o.Z,argTypes:{url:{},layer:{}},decorators:l.Z};var _=function(e){var t=I((0,n.useState)(e.url||""),2),r=t[0],l=t[1],s=I((0,n.useState)(!1),2),p=s[0],f=s[1],d=I((0,n.useState)(!1),2),y=d[0],b=d[1],v=I((0,n.useState)(!0),2),g=v[0],h=v[1];return n.createElement(n.Fragment,null,n.createElement(m,{open:y}),n.createElement(A,{open:p,close:function(){return f(!1)},load:function(e){l(e),f(!1)}}),n.createElement(c.Z,{buttons:n.createElement(n.Fragment,null,n.createElement(a.Z,{variant:g?"contained":"outlined",onClick:function(){return h(!g)},sx:{marginRight:{xs:"0px",sm:"10px"}}},"WMS Loader"),n.createElement("br",null),n.createElement("br",null),n.createElement(a.Z,{variant:p?"contained":"outlined",onClick:function(){f(!p),h(!0)},sx:{marginRight:{xs:"0px",sm:"10px"}}},"Demo WMS"),n.createElement("br",null),n.createElement("br",null),n.createElement(a.Z,{variant:"contained",onClick:function(){b(!0),setTimeout((function(){b(!1)}),5500)},sx:{display:"none"}},"Guide me through"))}),n.createElement(u.Z,{open:g,setOpen:h,name:"WMS Loader"},n.createElement(i.Z,{id:"wms_text_field",label:"WMS Url",variant:"standard",value:r,onChange:function(e){return l(e.target.value)}}),n.createElement(o.Z,{mapId:"map_1",url:r})))}.bind({});_.parameters={},_.args={},_.parameters=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({storySource:{source:"(props: MlWmsLoaderStoryProps) => {\n\tconst [url, setUrl] = useState(props.url || '');\n\tconst [demoMode, setDemoMode] = useState(false);\n\tconst [guide, setGuide] = useState(false);\n\tconst [openSidebar, setOpenSidebar] = useState(true);\n\n\tconst openGuide = () => {\n\t\tsetGuide(true);\n\t\tsetTimeout(() => {\n\t\t\tsetGuide(false);\n\t\t}, 5500);\n\t};\n\n\tconst loader = (str: string) => {\n\t\tsetUrl(str);\n\t\tsetDemoMode(false);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<MlWmsLoaderInstructions open={guide} />\n\t\t\t<WMSLinks open={demoMode} close={() => setDemoMode(false)} load={loader} />\n\t\t\t<TopToolbar\n\t\t\t\tbuttons={\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant={openSidebar ? 'contained' : 'outlined'}\n\t\t\t\t\t\t\tonClick={() => setOpenSidebar(!openSidebar)}\n\t\t\t\t\t\t\tsx={{ marginRight: { xs: '0px', sm: '10px' } }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tWMS Loader\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant={demoMode ? 'contained' : 'outlined'}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetDemoMode(!demoMode);\n\t\t\t\t\t\t\t\tsetOpenSidebar(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tsx={{ marginRight: { xs: '0px', sm: '10px' } }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDemo WMS\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<Button variant=\"contained\" onClick={openGuide} sx={{ display: 'none' }}>\n\t\t\t\t\t\t\tGuide me through\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t}\n\t\t\t/>\n\n\t\t\t<Sidebar\n\t\t\t\topen={openSidebar}\n\t\t\t\tsetOpen={setOpenSidebar}\n\t\t\t\tname={'WMS Loader'}\n\t\t\t>\n\t\t\t\t<TextField\n\t\t\t\t\tid=\"wms_text_field\"\n\t\t\t\t\tlabel=\"WMS Url\"\n\t\t\t\t\tvariant=\"standard\"\n\t\t\t\t\tvalue={url}\n\t\t\t\t\tonChange={(ev) => setUrl(ev.target.value)}\n\t\t\t\t/>\n\t\t\t\t<MlWmsLoader mapId={'map_1'} url={url} />\n\t\t\t</Sidebar>\n\t\t</>\n\t);\n}"}},_.parameters);var R=["ExampleConfig"]},87779:(e,t,r)=>{r.d(t,{Z:()=>b});var n=r(67294),o=r(30062),a=r(31072);function i(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function e(t,r,n,a,l,u,c,s,p){var m=arguments;if(void 0!==a.current[u.current]){var f=u.current+1===a.current.length?t.geojson:o.TuJ([].concat(i(l.current),i(a.current[u.current].geometry.coordinates)));p(f),"function"==typeof t.onTransitionFrame&&t.onTransitionFrame(f),u.current++,n.current&&u.current<a.current.length?s.current=setTimeout((function(){return e.apply(void 0,i(m))}),c):("function"==typeof t.onTransitionEnd&&t.onTransitionEnd(t.geojson),n.current=!1)}},c=function(e,t,r,n,a,l,c,p,m,f){var d=[],y=[],b=[],v=[];t.current=[];var g=a.current||{geometry:{type:"LineString",coordinates:[]},properties:{},type:"Feature"},h=e.geojson,S=h,O=g,E=!1;if(void 0===S.geometry&&void 0!==O.geometry&&O.geometry.coordinates.length>1)S=o.TuJ(O.geometry.coordinates.slice(0,2));else if(void 0===O.geometry&&void 0!==S.geometry&&S.geometry.coordinates.length>1)O=o.TuJ(S.geometry.coordinates.slice(0,2));else if(void 0===O.geometry&&void 0===S.geometry)return;if(S.geometry.coordinates.length<O.geometry.coordinates.length&&(S=g,O=h,E=!0),S&&O)for(var j=0,w=S.geometry.coordinates.length;j<w;j++)void 0!==O.geometry.coordinates[j]&&S.geometry.coordinates[j][0]===O.geometry.coordinates[j][0]&&S.geometry.coordinates[j][1]===O.geometry.coordinates[j][1]?t.current.push(S.geometry.coordinates[j]):(void 0!==S.geometry.coordinates[j]&&y.push(S.geometry.coordinates[j]),void 0!==O.geometry.coordinates[j]&&d.push(O.geometry.coordinates[j]));if(E?(b=d,v=y):(b=y,v=d),!(b.length<2&&v<2)){var M,A=e.transitionTime/l,L=v.length>1?Math.round(o.kE(o.TuJ(v))):0,P=b.length>1?Math.round(o.kE(o.TuJ(b))):0,x=P+L,I=L/x,T=Math.round(A*I),C=Math.round(L/T*100)/100,_=P/x,R=Math.round(A*_),Z=Math.round(P/R*100)/100;(M=i(s(v,C,T))).reverse(),(M=[].concat(i(M),i(s(b,Z,R)))).push(h),r.current=M,c.current=1,n.current=!0,m.current=setTimeout((function(){return u(e,p,n,r,t,c,l,m,f)}),l)}},s=function(e,t,r){var n=[];if(e.length>1)for(var a=o.Du7(o.TuJ(e),t),l=a.features[0],u=0;u<r&&(n.push(l),void 0!==a.features[u]);u++)l=o.TuJ([].concat(i(l.geometry.coordinates),i(a.features[u].geometry.coordinates)));return n},p=r(76956),m=["geojson"];function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){e.geojson;var t,r,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,m),l=(0,a.Z)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),u=(0,n.useRef)(!1),s=(0,n.useRef)(),y=(0,n.useRef)(!1),b=(0,n.useRef)(void 0),v=(0,n.useRef)(!1),g=(0,n.useRef)([]),h=(0,n.useRef)([]),S=(t=(0,n.useState)(o.uf4([])),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=S[0],E=S[1];(0,n.useEffect)((function(){return function(){b.current&&clearTimeout(b.current)}}),[]);var j=(0,n.useCallback)((function(){c(e,h,g,y,s,50,v,l.map,b,E)}),[e,l.map]);(0,n.useEffect)((function(){l.map&&u.current&&(void 0!==e.transitionTime&&"line"===e.type&&s.current&&(y.current=!1,v.current=!1,g.current=[],h.current=[],j()),s.current=e.geojson)}),[l.map,j,e]);var w=(0,n.useCallback)((function(){"line"===e.type&&void 0!==e.transitionTime&&e.transitionTime&&void 0!==e.geojson&&JSON.stringify(s.current)!==JSON.stringify(e.geojson)&&(j(),s.current=e.geojson)}),[e,j]);return(0,n.useEffect)((function(){l.mapIsReady&&e.geojson&&(u.current=!0,w())}),[l.mapIsReady,w,e]),n.createElement(n.Fragment,null,n.createElement(p.Z,f({},i,{geojson:O})))};const b=y;try{y.displayName="MlTransitionGeoJsonLayer",y.__docgenInfo={description:'Adds source and layer of types "line", "fill" or "circle" to display GeoJSON data on the map.',displayName:"MlTransitionGeoJsonLayer",props:{mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:'Id of an existing layer in the mapLibre instance to help specify the layer order\nThis layer will be visually beneath the layer with the "insertBeforeLayer" id.\nThis layer will not be added to the maplibre-gl instance until a layer with an\nid that matches the value of insertBeforeLayer is created.',name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"Id of the new layer and source that are added to the MapLibre instance",name:"layerId",required:!1,type:{name:"string | undefined"}},geojson:{defaultValue:null,description:"GeoJSON data that is supposed to be rendered by this component.",name:"geojson",required:!0,type:{name:"Feature<Geometry | GeometryCollection, Properties> | FeatureCollection<Geometry | GeometryCollection, Properties> | undefined"}},type:{defaultValue:null,description:"Type of the layer that will be added to the MapLibre instance.\nAll types from LayerSpecification union type are supported except the type from\nRasterLayerSpecification",name:"type",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"symbol"'},{value:'"circle"'},{value:'"line"'},{value:'"background"'},{value:'"fill"'},{value:'"heatmap"'},{value:'"fill-extrusion"'},{value:'"hillshade"'}]}},paint:{defaultValue:null,description:"Paint property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nSee https://maplibre.org/maplibre-gl-js-docs/style-spec/layers/\nSome examples are:\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill\nAll paint types from LayerSpecification union type are supported except the paint type from\nRasterLayerSpecification",name:"paint",required:!1,type:{name:'{ "fill-antialias"?: PropertyValueSpecification<boolean> | undefined; "fill-opacity"?: DataDrivenPropertyValueSpecification<number> | undefined; ... 4 more ...; "fill-pattern"?: DataDrivenPropertyValueSpecification<...> | undefined; } | ... 7 more ... | undefined'}},layout:{defaultValue:null,description:"Layout property object, that is passed to the addLayer call.\nPossible props depend on the layer type.\nSee https://maplibre.org/maplibre-gl-js-docs/style-spec/layers/\nSome examples are:\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#line\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#circle\nhttps://maplibre.org/maplibre-gl-js-docs/style-spec/layers/#fill\nAll layout types from LayerSpecification union type are supported except the layout type from\nRasterLayerSpecification",name:"layout",required:!1,type:{name:"undefined"}},options:{defaultValue:null,description:"Javascript object that is spread into the addLayer commands first parameter.",name:"options",required:!1,type:{name:"Partial<(FillLayerSpecification | LineLayerSpecification | SymbolLayerSpecification | CircleLayerSpecification | HeatmapLayerSpecification | FillExtrusionLayerSpecification) & { ...; }> | undefined"}},defaultPaintOverrides:{defaultValue:null,description:'Javascript object with optional properties "fill", "line", "circle" to override implicit layer type default paint properties.',name:"defaultPaintOverrides",required:!1,type:{name:'{ circle?: { "circle-radius"?: DataDrivenPropertyValueSpecification<number> | undefined; "circle-color"?: DataDrivenPropertyValueSpecification<string> | undefined; ... 8 more ...; "circle-stroke-opacity"?: DataDrivenPropertyValueSpecification<...> | undefined; } | undefined; fill?: { ...; } | undefined; line?: { ......'}},onHover:{defaultValue:null,description:"Hover event handler that is executed whenever a geometry rendered by this component is hovered.",name:"onHover",required:!1,type:{name:"((ev: MapEventType) => void | Map) | undefined"}},onClick:{defaultValue:null,description:"Click event handler that is executed whenever a geometry rendered by this component is clicked.",name:"onClick",required:!1,type:{name:"((ev: MapEventType) => void | Map) | undefined"}},onLeave:{defaultValue:null,description:"Leave event handler that is executed whenever a geometry rendered by this component is\nleft/unhovered.",name:"onLeave",required:!1,type:{name:"((ev: MapEventType) => void | Map) | undefined"}},transitionTime:{defaultValue:null,description:"",name:"transitionTime",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlTransitionGeoJsonLayer/MlTransitionGeoJsonLayer.tsx#MlTransitionGeoJsonLayer"]={docgenInfo:y.__docgenInfo,name:"MlTransitionGeoJsonLayer",path:"src/components/MlTransitionGeoJsonLayer/MlTransitionGeoJsonLayer.tsx#MlTransitionGeoJsonLayer"})}catch(e){}},32714:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(67294),o=r(31072);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=(0,o.Z)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=(0,n.useRef)(e.layerId||"MlVectorTileLayer-"+t.componentId),a=(0,n.useRef)({}),i=(0,n.useRef)({}),u=(0,n.useRef)(!1),c=(0,n.useCallback)((function(){t.map&&(u.current=!0,t.map.map.getSource(r.current)&&t.cleanup(),t.map.addSource(r.current,l({type:"vector",tiles:[e.url||""],attribution:"",minzoom:0,maxzoom:14},e.sourceOptions),t.componentId),e.layers.forEach((function(n){t.map&&(t.map.addLayer(l({source:r.current,minzoom:0,maxzoom:22,layout:{},paint:{"line-opacity":.5,"line-color":"rgb(80, 80, 80)","line-width":2}},n),e.insertBeforeLayer,t.componentId),a.current[n.id]=JSON.stringify(n.paint),i.current[n.id]=JSON.stringify(n.layout),t.map.on("styledata",(function(){var e;!u.current||null!==(e=t.map)&&void 0!==e&&e.map.getSource(r.current)||(console.log("Recreate Layer "+r.current),c())}),t.componentId))})))}),[t.map,e]),s=(0,n.useCallback)((function(){u.current&&e.layers.forEach((function(e){if(t.map&&t.map.map.getLayer(e.id)){var r=JSON.stringify(e.paint);if(r!==a.current[e.id])for(var n in e.paint)t.map.map.setPaintProperty(e.id,n,e.paint[n]);a.current[e.id]=r;var o=JSON.stringify(e.layout);if(o!==i.current[e.id])for(var l in e.layout)t.map.map.setLayoutProperty(e.id,l,e.layout[l]);i.current[e.id]=o}}))}),[t.map,e.layers]);return(0,n.useEffect)((function(){u.current||c()}),[c]),(0,n.useEffect)((function(){t.map&&u.current&&c()}),[e.layers.length,t.map]),(0,n.useEffect)((function(){t.map&&u.current&&s()}),[e.layers,t.map]),n.createElement(n.Fragment,null)};const s=c;try{c.displayName="MlVectorTileLayer",c.__docgenInfo={description:"Adds a vector-tile source and 0...n vector-tile-layers to the MapLibre instance referenced by\nprops.mapId",displayName:"MlVectorTileLayer",props:{mapId:{defaultValue:null,description:"",name:"mapId",required:!1,type:{name:"string | undefined"}},insertBeforeLayer:{defaultValue:null,description:"",name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"",name:"layerId",required:!1,type:{name:"string | undefined"}},sourceOptions:{defaultValue:null,description:"",name:"sourceOptions",required:!1,type:{name:"VectorSourceSpecification | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!1,type:{name:"string | undefined"}},layers:{defaultValue:null,description:"",name:"layers",required:!0,type:{name:"LayerSpecification[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlVectorTileLayer/MlVectorTileLayer.tsx#MlVectorTileLayer"]={docgenInfo:c.__docgenInfo,name:"MlVectorTileLayer",path:"src/components/MlVectorTileLayer/MlVectorTileLayer.tsx#MlVectorTileLayer"})}catch(e){}},16439:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r(45697),a=r.n(o),i=r(74736),l=r(28721),u=function(e){var t=(0,n.useContext)(i.Z),r=(0,n.useRef)(!1),o=(0,n.useRef)(void 0),a=(0,n.useRef)((e.idPrefix?e.idPrefix:"MlWmsFeatureInfoPopup-")+(0,l.Z)());return(0,n.useEffect)((function(){var e=a.current;return function(){o.current&&(o.current.cleanup(e),o.current=void 0),r.current=!1}}),[]),(0,n.useEffect)((function(){t.mapExists(e.mapId)&&!r.current&&(r.current=!0,o.current=t.getMap(e.mapId),o.current.setCenter([7.132122000552613,50.716405378037706]))}),[t.mapIds,t,e.mapId]),n.createElement(n.Fragment,null)};u.defaultProps={mapId:void 0},u.propTypes={mapId:a().string},u.__docgenInfo={description:"TODO: Add short & useful description\n\n@param {object} props\n@param {string} props.mapId Id of the target MapLibre instance in mapContext\n\n@component",methods:[],displayName:"MlWmsFeatureInfoPopup",props:{mapId:{defaultValue:{value:"undefined",computed:!0},description:"Id of the target MapLibre instance in mapContext",type:{name:"string"},required:!1}}};const c=u;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsFeatureInfoPopup/MlWmsFeatureInfoPopup.js"]={name:"MlWmsFeatureInfoPopup",docgenInfo:u.__docgenInfo,path:"src/components/MlWmsFeatureInfoPopup/MlWmsFeatureInfoPopup.js"})},18128:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(67294),o=r(31072),a=r(45697),i=r.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={visible:!0,urlParameters:{bbox:"{bbox-epsg-3857}",format:"image/png",service:"WMS",version:"1.1.1",request:"GetMap",srs:"EPSG:3857",width:256,height:256,styles:""},attribution:"",sourceOptions:{minZoom:0,maxZoom:20},layerOptions:{minZoom:0,maxZoom:20}},m=function(e){var t=(0,o.Z)({mapId:e.mapId,waitForLayer:e.insertBeforeLayer}),r=(0,n.useRef)(!1),a=(0,n.useRef)(e.layerId||"MlWmsLayer-"+t.componentId),i=(0,n.useMemo)((function(){var t,r,n=e.url;-1!==e.url.indexOf("?")&&(n=(r=e.url.split("?"))[0]);var o=new URLSearchParams(null===(t=r)||void 0===t?void 0:t[1]),a=c(c(c({},p.urlParameters),Object.fromEntries(o)),e.urlParameters),i=new URLSearchParams(a);return n+"?"+(decodeURIComponent(i.toString())+"".replace(/%2F/g,"/").replace(/%3A/g,":"))}),[e.urlParameters,e.url]),l=(0,n.useCallback)((function(){t.map&&(r.current=!0,t.map.map.getLayer(a.current)&&t.cleanup(),t.map.addSource(a.current,c({type:"raster",tiles:[i],tileSize:256,attribution:e.attribution},e.sourceOptions),t.componentId),t.map.addLayer(c({id:a.current,type:"raster",source:a.current},e.layerOptions),e.insertBeforeLayer,t.componentId),t.map.on("styledata",(function(){var e;!r.current||null!==(e=t.map)&&void 0!==e&&e.map.getLayer(a.current)||(console.log("Recreate Layer "+a.current),l())}),t.componentId),e.visible||t.map.map.setLayoutProperty(a.current,"visibility","none"))}),[t.map,e,i]);return(0,n.useEffect)((function(){r.current||l()}),[l]),(0,n.useEffect)((function(){var e,n,o,l;t.map&&null!==(e=t.map)&&void 0!==e&&null!==(n=e.map)&&void 0!==n&&null!==(o=n.style)&&void 0!==o&&null!==(l=o.sourceCaches)&&void 0!==l&&l[a.current]&&r.current&&(t.map.map.getSource(a.current).tiles=[i],t.map.map.style.sourceCaches[a.current].clearTiles(),t.map.map.style.sourceCaches[a.current].update(t.map.map.transform),t.map.map.triggerRepaint())}),[t.map,i]),(0,n.useEffect)((function(){t.map&&r.current&&(e.visible?t.map.map.setLayoutProperty(a.current,"visibility","visible"):t.map.map.setLayoutProperty(a.current,"visibility","none"))}),[e.visible,t.map]),n.createElement(n.Fragment,null)};m.defaultProps=c({},p),m.propTypes={url:i().string.isRequired,urlParameters:i().shape({layers:i().string.isRequired,bbox:i().string,format:i().string,service:i().string,version:i().string,request:i().string,srs:i().string,width:i().number,height:i().number}),mapId:i().string,attribution:i().string,layerOptions:i().object,sourceOptions:i().object,insertBeforeLayer:i().string,visible:i().bool};const f=m;try{m.displayName="MlWmsLayer",m.__docgenInfo={description:"Adds a WMS raster source & layer to the maplibre-gl instance",displayName:"MlWmsLayer",props:{urlParameters:{defaultValue:null,description:"",name:"urlParameters",required:!1,type:{name:"{ [key: string]: string; } | undefined"}},url:{defaultValue:null,description:"",name:"url",required:!0,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!1,type:{name:"boolean | undefined"}},attribution:{defaultValue:null,description:"",name:"attribution",required:!1,type:{name:"string | undefined"}},mapId:{defaultValue:null,description:"",name:"mapId",required:!1,type:{name:"string | undefined"}},sourceOptions:{defaultValue:null,description:"",name:"sourceOptions",required:!1,type:{name:"RasterSourceSpecification | undefined"}},layerOptions:{defaultValue:null,description:"",name:"layerOptions",required:!1,type:{name:"RasterLayerSpecification | undefined"}},insertBeforeLayer:{defaultValue:null,description:"",name:"insertBeforeLayer",required:!1,type:{name:"string | undefined"}},layerId:{defaultValue:null,description:"",name:"layerId",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLayer/MlWmsLayer.tsx#MlWmsLayer"]={docgenInfo:m.__docgenInfo,name:"MlWmsLayer",path:"src/components/MlWmsLayer/MlWmsLayer.tsx#MlWmsLayer"})}catch(e){}},74767:(e,t,r)=>{r.d(t,{Z:()=>A});var n=r(67294),o=r(18128),a=r(72741),i=r(25969),l=r(22961),u=r(72450),c=r(42440),s=r(70576),p=r(59334),m=r(6867),f=r(31072);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=2*Math.PI*6378137/2,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{enable:!0,decimal:1},r=e.lng,n=e.lat,o=r*j/180,a=Math.log(Math.tan((90+n)*Math.PI/360))/(Math.PI/180);return a=a*j/180,t.enable&&(o=Number(o.toFixed(t.decimal)),a=Number(a.toFixed(t.decimal))),[o,a]},M=function(e){var t,r,d,v,h,O=(0,i.Z)({urlParameters:e.urlParameters}),E=O.capabilities,j=O.error,M=O.setUrl,A=O.getFeatureInfoUrl,L=O.wmsUrl,P=(0,f.Z)({mapId:null==e?void 0:e.mapId}),x=S((0,n.useState)([]),2),I=x[0],T=x[1],C=S((0,n.useState)(),2),_=C[0],R=C[1],Z=S((0,n.useState)(void 0),2),W=Z[0],k=Z[1];(0,n.useEffect)((function(){M(e.url)}),[e.url]);var B=(0,n.useMemo)((function(){return I.filter((function(e){var t;return e.visible&&(null==e||null===(t=e.Attribution)||void 0===t?void 0:t.Title)})).map((function(e){var t;return null==e||null===(t=e.Attribution)||void 0===t?void 0:t.Title})).filter((function(e,t,r){return r.indexOf(e)===t})).join(" ")}),[I]),D=(0,n.useCallback)((function(t){var r,n,o,a,i;if(P.map){R(void 0),k(void 0);var l,u=P.map.getBounds(),c=w(u._sw),s=w(u._ne),p={REQUEST:"GetFeatureInfo",BBOX:[c[0],c[1],s[0],s[1]].join(","),SERVICE:"WMS",INFO_FORMAT:-1!==(null==E||null===(r=E.Capability)||void 0===r||null===(n=r.Request)||void 0===n?void 0:n.GetFeatureInfo.Format.indexOf("text/html"))?"text/html":"text/plain",FEATURE_COUNT:"10",LAYERS:I.map((function(e){return e.visible&&e.queryable?e.Name:void 0})).filter((function(e){return e})),QUERY_LAYERS:I.map((function(e){return e.visible&&e.queryable?e.Name:void 0})).filter((function(e){return e})),WIDTH:null==P?void 0:P.map._container.clientWidth,HEIGHT:null==P?void 0:P.map._container.clientHeight,srs:"EPSG:3857",CRS:"EPSG:3857",version:"1.3.0",X:t.point.x,Y:t.point.y,I:t.point.x,J:t.point.y,buffer:"50"},m=A;-1!==(null===(o=m)||void 0===o||null===(a=o.indexOf)||void 0===a?void 0:a.call(o,"?"))&&(m=(l=e.url.split("?"))[0]);var f=new URLSearchParams(null===(i=l)||void 0===i?void 0:i[1]),d=g(g({},Object.fromEntries(f)),p),y=new URLSearchParams(d);fetch(e.url+"?"+y.toString()).then((function(e){if(!e.ok)throw new Error("FeatureInfo could not be fetched");return e.text()})).then((function(e){R(t.lngLat),k(e)})).catch((function(e){return console.log(e)}))}}),[E,A,e,P,I]);return(0,n.useEffect)((function(){if(P.map){var e=D;return P.map.map.on("click",e),function(){var t,r,n;null===(t=P.map)||void 0===t||null===(r=(n=t.map).off)||void 0===r||r.call(n,"click",e)}}}),[D,P.map]),(0,n.useEffect)((function(){var e,t,r,n,o,a,i,l;if(null!=E&&E.Service)if(-1===(null==E||null===(e=E.Capability)||void 0===e||null===(t=e.Layer)||void 0===t||null===(r=t.CRS)||void 0===r||null===(n=r.indexOf)||void 0===n?void 0:n.call(r,"EPSG:3857"))&&-1===(null==E||null===(o=E.Capability)||void 0===o||null===(a=o.Layer)||void 0===a||null===(i=a.CRS)||void 0===i||null===(l=i.indexOf)||void 0===l?void 0:l.call(i,"CRS:84")))console.log("MlWmsLoader ("+E.Service.Title+"): No WGS 84/Pseudo-Mercator support");else{var u,c,s,p;console.log("MlWmsLoader ("+E.Service.Title+"): WGS 84/Pseudo-Mercator supported");var m=[],f=null==E||null===(u=E.Capability)||void 0===u||null===(c=u.Layer)||void 0===c?void 0:c.Layer.filter((function(e){var t;return!(null!==(t=e.Layer)&&void 0!==t&&t.length)})).map((function(e,t){var r,n,o;return 0===t&&(m=e.EX_GeographicBoundingBox),g({visible:!((null==E||null===(r=E.Capability)||void 0===r||null===(n=r.Layer)||void 0===n||null===(o=n.Layer)||void 0===o?void 0:o.length)>2)||t>1,Attribution:{Title:""}},e)}));null==E||null===(s=E.Capability)||void 0===s||null===(p=s.Layer)||void 0===p||p.Layer.forEach((function(e){var t,r=null==e||null===(t=e.Layer)||void 0===t?void 0:t.filter((function(e){return e.CRS.length})).map((function(e,t){return 0===t&&(m=e.EX_GeographicBoundingBox),g({visible:!1,Attribution:{Title:""}},e)}));r&&(f=[].concat(b(f),b(r)))})),T(f),null!=P&&P.map&&m.length>3&&(null==P||P.map.fitBounds([[m[0],m[1]],[m[2],m[3]]]))}}),[E,P.map]),(0,n.useEffect)((function(){M(e.url)}),[e.url]),n.createElement(n.Fragment,null,j&&n.createElement("p",null,j),n.createElement("h3",{key:"title"},null==E||null===(t=E.Service)||void 0===t?void 0:t.Title),n.createElement(c.Z,{dense:!0,key:"layers"},L&&(null==I||null===(r=I.map)||void 0===r?void 0:r.call(I,(function(e,t){return null!=e&&e.Name?n.createElement(s.ZP,{key:e.Name+t,secondaryAction:n.createElement(m.Z,{edge:"end","aria-label":"toggle visibility",onClick:function(){var e=b(I);e[t].visible=!e[t].visible,T(b(e))}},I[t].visible?n.createElement(l.Z,null):n.createElement(u.Z,null))},n.createElement(p.Z,{primary:null==e?void 0:e.Title})):n.createElement(n.Fragment,null)})))),L&&(null==I?void 0:I.length)&&n.createElement(o.Z,{key:P.componentId,url:L,attribution:B,urlParameters:g(g({},e.wmsUrlParameters),{},{layers:null==I||null===(d=I.filter)||void 0===d?void 0:d.call(I,(function(e){return e.visible})).map((function(e){return e.Name})).reverse().join(",")})}),n.createElement("p",{key:"description",style:{fontSize:".7em"}},null==E||null===(v=E.Capability)||void 0===v||null===(h=v.Layer)||void 0===h?void 0:h.Abstract),_&&n.createElement(a.Z,y({},_,{content:W})))};M.defaultProps={url:"",urlParameters:{SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetCapabilities"},wmsUrlParameters:{TRANSPARENT:"TRUE"}};const A=M;try{M.displayName="MlWmsLoader",M.__docgenInfo={description:"Loads a WMS getCapabilities xml document and adds a MlWmsLayer component for each layer that is\noffered by the WMS.\n\nTODO: EaseTo the extend offered by the WMS in a zoom level that is supported",displayName:"MlWmsLoader",props:{url:{defaultValue:{value:""},description:"WMS URL",name:"url",required:!1,type:{name:"string"}},mapId:{defaultValue:null,description:"Id of the target MapLibre instance in mapContext",name:"mapId",required:!0,type:{name:"string"}},urlParameters:{defaultValue:{value:"{\n\t\tSERVICE: 'WMS',\n\t\tVERSION: '1.3.0',\n\t\tREQUEST: 'GetCapabilities',\n\t}"},description:"URL parameters that will be used in the getCapabilities request",name:"urlParameters",required:!1,type:{name:"{ [key: string]: string; } | undefined"}},wmsUrlParameters:{defaultValue:{value:"{\n\t\tTRANSPARENT: 'TRUE',\n\t}"},description:"URL parameters that will be added when requesting WMS capabilities",name:"wmsUrlParameters",required:!1,type:{name:"{ [key: string]: string; } | undefined"}},lngLat:{defaultValue:null,description:"",name:"lngLat",required:!1,type:{name:"LngLat | undefined"}},idPrefix:{defaultValue:null,description:"",name:"idPrefix",required:!1,type:{name:"string | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MlWmsLoader/MlWmsLoader.tsx#MlWmsLoader"]={docgenInfo:M.__docgenInfo,name:"MlWmsLoader",path:"src/components/MlWmsLoader/MlWmsLoader.tsx#MlWmsLoader"})}catch(e){}},74736:(e,t,r)=>{r.d(t,{Z:()=>m,t:()=>p});var n=r(67294),o=r(25974),a=r(26778);function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=n.createContext({}),p=function(e){var t=e.children,r=l((0,n.useState)(void 0),2),u=r[0],c=r[1],p=l((0,n.useState)([]),2),m=p[0],f=p[1],d=(0,n.useRef)([]),y=(0,n.useRef)({}),b={map:u,setMap:function(e){if(c(e),0===m.length){var t="anonymous_map";f([].concat(i(m),[t])),y.current[t]=e}},maps:y.current,mapIds:m,registerMap:function(e,t){e&&t&&(y.current[e]=t,d.current.push(e),f(i(d.current)),u&&!0!==(null==u?void 0:u.cancelled)||c(t))},removeMap:function e(t){if(t){void 0!==y.current[t]&&delete y.current[t];var r=d.current.indexOf(t);r>-1&&d.current.splice(r,1),f(i(d.current)),0===d.current.length&&u&&c(void 0)}else e("anonymous_map")},mapExists:function(e){return!(e&&-1===Object.keys(y.current).indexOf(e)||!e&&!u)},getMap:function(e){return e&&-1!==m.indexOf(e)?y.current[e]:!e&&u?u:null}};return n.createElement(s.Provider,{value:b},n.createElement(o.Z,{theme:(0,a.Z)("light")},t))};const m=s;try{p.displayName="MapComponentsProvider",p.__docgenInfo={description:"MapComponentsProvider must be imported and wrapped around component where at least one of its child nodes requires access to a MapLibre-gl or openlayers instance that is registered in this mapContext.\nMapComponentsProvider must be used one level higher than the first use of MapContext.\n\nMapComponentsProvider requires at least one use of the MapLibreMap component somewhere down the component tree that will create the MapLibre-gl object and set the reference at MapContext.map. For MapLibre maps it is a good idea to provide a mapId attribute to the MapLibreMap Component even if you are only using a single map instance at start. It will make a later transition to using multiple instances within the same project much easier.",displayName:"MapComponentsProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/contexts/MapContext.tsx#MapComponentsProvider"]={docgenInfo:p.__docgenInfo,name:"MapComponentsProvider",path:"src/contexts/MapContext.tsx#MapComponentsProvider"})}catch(e){}},74054:(e,t,r)=>{r.d(t,{D:()=>n});var n=r(67294).createContext({}).Provider},15668:(e,t,r)=>{var n=r(67294),o=r(45697),a=r.n(o),i=r(74054),l=r(16836);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){var t,r,o=(t=(0,n.useState)(null),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],u=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],c=o[1];(0,n.useEffect)((function(){if(e.url){var t=null;"json"===e.format?t=l.AVB(e.url):"csv"===e.format?t=l.gyn(e.url):"xml"===e.format&&(t=l.LsS(e.url)),t&&t.then((function(t){if("xml"===e.format){if(e.nodeType){var r=[];t.querySelectorAll(e.nodeType).forEach((function(t){r.push(e.formatData(t))})),c(r)}}else e.data_property&&(t=t[e.data_property]),"function"==typeof e.formatData?c(t.map(e.formatData)):c(t);"function"==typeof e.onData&&e.onData()}))}}),[e.url,e]);var s={data:a,setData:c};return n.createElement(i.D,{value:s},e.children)};c.propTypes={children:a().node.isRequired},c.__docgenInfo={description:"",methods:[],displayName:"SimpleDataProvider",props:{children:{description:"",type:{name:"node"},required:!0}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/contexts/SimpleDataProvider.js"]={name:"SimpleDataProvider",docgenInfo:c.__docgenInfo,path:"src/contexts/SimpleDataProvider.js"})},79825:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r(49004),a=r(83730),i=(r(55983),r(74168)),l=r(25974),u=r(26778);const c=[function(e,t){var r,c=(0,n.useMemo)((function(){var e;return(0,u.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(l.Z,{theme:c},n.createElement(e,null),n.createElement(a.Z,{mapId:"map_1",options:{zoom:12.5,center:[7.0851268,50.73884]}}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},54553:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r(49004),a=r(83730),i=(r(55983),r(74168)),l=r(25974),u=r(26778);const c=[function(e,t){var r,c=(0,n.useMemo)((function(){var e;return(0,u.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(l.Z,{theme:c},n.createElement(e,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},61669:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r(49004),a=r(83730),i=(r(55983),r(74168)),l=r(25974),u=r(26778);const c=[function(e,t){var r,c=(0,n.useMemo)((function(){var e;return(0,u.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(l.Z,{theme:c},n.createElement(e,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}),n.createElement(i.Z,{sx:{bottom:"25px",right:"5px"},showZoomButtons:!1,mapId:"map_1"}))))}]},82418:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r(49004),a=r(83730),i=(r(55983),r(74168)),l=r(25974),u=r(26778);const c=[function(e,t){var r,c=(0,n.useMemo)((function(){var e;return(0,u.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(l.Z,{theme:c},n.createElement("div",{style:{overflow:"hidden",position:"absolute",top:"0",bottom:"0",left:"0",right:"0"}},n.createElement(e,null),n.createElement("div",{className:"maps"},n.createElement(a.Z,{mapId:"map_1",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-liberty.json",center:[7.0851268,50.73884]}}),n.createElement(a.Z,{mapId:"map_2",options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]}}),n.createElement(i.Z,{showZoomButtons:!1,mapId:"map_1"}))))))}]},35640:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(67294),o=r(49004),a=r(83730),i=(r(55983),r(25974)),l=r(26778);const u=[function(e,t){var r,u=(0,n.useMemo)((function(){var e;return(0,l.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(i.Z,{theme:u},n.createElement(e,null),n.createElement(a.Z,{options:{zoom:14.5,style:"https://wms.wheregroup.com/tileserver/style/osm-bright.json",center:[7.0851268,50.73884]},mapId:"map_1"}))))}]},4274:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(67294),o=r(49004),a=(r(55983),r(25974)),i=r(26778);const l=[function(e,t){var r,l=(0,n.useMemo)((function(){var e;return(0,i.Z)(null==t||null===(e=t.globals)||void 0===e?void 0:e.theme)}),[null==t||null===(r=t.globals)||void 0===r?void 0:r.theme]);return n.createElement("div",{className:"fullscreen_map"},n.createElement(o.tw,null,n.createElement(a.Z,{theme:l},n.createElement(e,null))))}]}}]);