import{j as t}from"./index-nGUg9nSI.js";import{R as d}from"./iframe-O9DyGZK0.js";import{k as l,l as u,m as g,B as f,C as x,b as h}from"./style-DnMtoM4T.js";import{m as b}from"./MapContextDecorator-BzRI4COS.js";import"./index-CYTFyfAa.js";import"./preload-helper-D9Z9MdNV.js";const C=l(t.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),n=o=>{const s=u({mapId:o.mapId}),i=g({mapId:o.mapId}),[m,p]=d.useState(!1);return t.jsx(t.Fragment,{children:t.jsx(f,{color:"primary",variant:"contained",onClick:()=>{if(s.map&&i?.createExport){p(!0);const a=s.map.getBounds(),c=[a.getWest(),a.getSouth(),a.getEast(),a.getNorth()];i.createExport({width:595*1.4,height:842*1.4,bbox:c,bboxUnrotated:c,bearing:s.map.getBearing(),format:"a4",orientation:"portrait",...o.exportOptions}).then(e=>e.createPng()).then(e=>(p(!1),e.downloadPng())).catch(e=>{console.log(e),p(!1)})}},children:m?t.jsx(x,{size:24,sx:{color:"#fff"}}):t.jsx(C,{})})})};try{n.displayName="MlCreatePngButton",n.__docgenInfo={description:"Renders a button that will create a Png file of the current map view (dimensions adjusted to fit DIN A4 paper).",displayName:"MlCreatePngButton",props:{mapId:{defaultValue:null,description:"ID of the target MapLibre instance in mapContext",name:"mapId",required:!1,type:{name:"string | undefined"}},exportOptions:{defaultValue:null,description:"Option overrides for the createExport function",name:"exportOptions",required:!1,type:{name:"createExportOptions | undefined"}}}}}catch{}const P={title:"MapComponents/MlCreatePngButton",component:n,argTypes:{},decorators:b},I=()=>t.jsx(h,{unmovableButtons:t.jsx(n,{})}),r=I.bind({});r.parameters={...r.parameters,docs:{...r.parameters?.docs,source:{originalSource:"() => <TopToolbar unmovableButtons={<MlCreatePngButton />} />",...r.parameters?.docs?.source}}};const v=["ExampleConfig"];export{r as ExampleConfig,v as __namedExportsOrder,P as default};
