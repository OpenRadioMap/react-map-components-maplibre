import{j as e}from"./index-nGUg9nSI.js";import{I}from"./Instructions-Hm207NEx.js";import{u as j,aH as L,o as M,P as T,aI as c,p as _,B as G,aJ as k,ad as f,aB as w,aC as v,aK as E,V as D}from"./style-DnMtoM4T.js";import{r as p}from"./iframe-O9DyGZK0.js";const x={bubbleTop:"-150px",textMarginTop:"230px",textMarginLeft:"75px",iconTransform:"rotate(90deg)",iconMarginLeft:"280px",zIndex:"400"},F=t=>[{duration:3e3,props:{...x,bubbleLeft:"595px",iconMarginTop:"-130px",bubbleBottom:t?"90px":"0"},content:e.jsxs(e.Fragment,{children:["You can see more ",e.jsx("br",{})," information about ",e.jsx("br",{}),"the track ",e.jsx("br",{}),"here"]})},{duration:3e3,props:{...x,bubbleLeft:"705px",iconMarginTop:"-100px",bubbleBottom:t?"90px":"0"},content:e.jsxs(e.Fragment,{children:["You can load your ",e.jsx("br",{}),"own GPX file ",e.jsx("br",{})," here"]})},{duration:3e3,props:{...x,bubbleLeft:"820px",iconMarginTop:"-130px",bubbleBottom:t?"90px":"0"},content:e.jsxs(e.Fragment,{children:["In demo mode we ",e.jsx("br",{})," provide you some ",e.jsx("br",{})," GPX tracks ",e.jsx("br",{})," to load."]})}];function g(t){const n=j(a=>a.breakpoints.down("md"));return e.jsx(e.Fragment,{children:e.jsx(I,{steps:F(n),open:t.open})})}try{g.displayName="MlGpxViewerInstructions",g.__docgenInfo={description:"",displayName:"MlGpxViewerInstructions",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}}}}}catch{}const S={position:"absolute",zIndex:500,top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"400px",boxShadow:20,alignItems:"center",padding:0,opacity:1,transition:"opacity 1s"},V={position:"absolute",top:"10%",left:"20%",width:"60%",bgcolor:"background.paper",boxShadow:24,zIndex:200,overflow:"scroll"},z=[{name:"mountain_trail.gpx",path:"assets/sample1.gpx"},{name:"bycycle_tour.gpx",path:"assets/sample2.gpx"},{name:"treckking.gpx",path:"assets/sample3.gpx"}],b=t=>{const n=p.useRef(new FileReader);n.current.onload=()=>{n?.current?.result&&typeof n.current.result=="string"&&t.setGpx(n.current.result)};const a=j(o=>o.breakpoints.down("md")),s=o=>{fetch(o).then(function(r){return r.blob()}).then(function(r){n.current.readAsText(r)}).catch(r=>console.log(r))};return p.useEffect(()=>{s("assets/sample1.gpx")},[]),e.jsx(e.Fragment,{children:t.open&&e.jsx(L,{in:t.open,appear:!1,children:e.jsx(M,{sx:a?V:S,children:e.jsxs(T,{sx:{padding:"20px"},children:[e.jsxs(c,{container:!0,children:[e.jsx(c,{size:10,children:e.jsx(_,{id:"modal-modal-title",variant:"h6",children:"GPX demo files"})}),e.jsx(c,{size:2,children:e.jsx(G,{onClick:t.close,children:e.jsx(k,{sx:{color:"text.primary"}})})})]}),e.jsx(f,{}),e.jsx(c,{container:!0,children:e.jsx(w,{children:z.map((o,r)=>e.jsxs(e.Fragment,{children:[e.jsx(v,{children:e.jsx(E,{onClick:()=>{s(o.path),t.close()},children:e.jsx(D,{children:o.name})})},r),e.jsx(f,{variant:"inset",component:"li"},"div"+r)]}))})},"demo-container")]})})})})};try{b.displayName="MlGpxDemoLoader",b.__docgenInfo={description:"MlGpxDemoLoader returns a button to load a Demo GPX Track into the map.",displayName:"MlGpxDemoLoader",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},close:{defaultValue:null,description:"",name:"close",required:!0,type:{name:"() => void"}},setGpx:{defaultValue:null,description:"",name:"setGpx",required:!0,type:{name:"(gpx: string | undefined) => void"}}}}}catch{}const u=t=>{t.preventDefault(),t.stopPropagation()};function h(t){const[n,a]=p.useState(0),s=p.useRef(null),o=r=>{if(r.preventDefault(),r?.dataTransfer?.items){if(r.dataTransfer.items.length>1)return!1;if(r.dataTransfer.items[0].kind==="file"){const i=new FileReader;i.onload=l=>{l?.currentTarget?.result&&typeof t.setData=="function"&&t.setData(l.currentTarget.result)};const d=r.dataTransfer.items[0].getAsFile();d&&i.readAsText(d)}}};return p.useEffect(()=>{const r=s.current,i=m=>{a(1e3),u(m)},d=()=>{a(0)},l=m=>{a(0),u(m)};return window.addEventListener("dragenter",i),window.addEventListener("dragover",u),r?.addEventListener("dragleave",d),window.addEventListener("drop",l),()=>{window.removeEventListener("dragenter",i),window.removeEventListener("dragover",u),r?.removeEventListener("dragleave",d),window.removeEventListener("drop",l)}},[]),e.jsx("div",{onDrop:o,ref:s,style:{position:"absolute",left:"0",top:"0",backgroundColor:"rgba(255,255,255,0.5)",width:"100%",height:"100%",zIndex:n},children:e.jsx(_,{variant:"h6",style:{top:"50%",position:"absolute",left:"50%",msTransform:"translate(-50%, -50%)",transform:" translate(-50%, -50%)"},noWrap:!0,children:"Datei ablegen"})})}try{h.displayName="Dropzone",h.__docgenInfo={description:"",displayName:"Dropzone",props:{setData:{defaultValue:null,description:"",name:"setData",required:!0,type:{name:"(data: string) => void"}}}}}catch{}function y(t){return e.jsx(w,{children:t.metadata?.length>0&&t.metadata.map((n,a)=>e.jsx(v,{children:e.jsx(D,{primary:n.value})},`item--${a}`))})}try{y.displayName="Metadata",y.__docgenInfo={description:"",displayName:"Metadata",props:{metadata:{defaultValue:null,description:"",name:"metadata",required:!0,type:{name:"MetadataType[]"}}}}}catch{}export{h as D,g as M,b as a,y as b};
